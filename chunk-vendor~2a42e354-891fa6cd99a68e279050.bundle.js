/*! For license information please see chunk-vendor~2a42e354-891fa6cd99a68e279050.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1163:function(t,e,n){var r,o;(function(){(function(){(function(){var t=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(t){var e;return null==t&&(t=null!=(e=this.getConfig("url"))?e:this.INTERNAL.default_mount_path),new i.Consumer(this.createWebSocketURL(t))},getConfig:function(t){var e;return null!=(e=document.head.querySelector("meta[name='action-cable-"+t+"']"))?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?((e=document.createElement("a")).href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var e,n;if(e=1<=arguments.length?t.call(arguments,0):[],this.debugging)return e.push(Date.now()),(n=this.logger).log.apply(n,["[ActionCable]"].concat(t.call(e)))}}}).call(this)}).call(this);var i=this.ActionCable;(function(){(function(){i.ConnectionMonitor=function(){var t,e,n;function r(t){var e,n;this.connection=t,this.visibilityDidChange=(e=this.visibilityDidChange,n=this,function(){return e.apply(n,arguments)}),this.reconnectAttempts=0}return r.pollInterval={min:3,max:30},r.staleThreshold=6,r.prototype.start=function(){if(!this.isRunning())return this.startedAt=e(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),i.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},r.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=e(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),i.log("ConnectionMonitor stopped")},r.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},r.prototype.recordPing=function(){return this.pingedAt=e()},r.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,i.log("ConnectionMonitor recorded connect")},r.prototype.recordDisconnect=function(){return this.disconnectedAt=e(),i.log("ConnectionMonitor recorded disconnect")},r.prototype.startPolling=function(){return this.stopPolling(),this.poll()},r.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},r.prototype.poll=function(){return this.pollTimeout=setTimeout((t=this,function(){return t.reconnectIfStale(),t.poll()}),this.getPollInterval());var t},r.prototype.getPollInterval=function(){var e,n,r,o;return r=(o=this.constructor.pollInterval).min,n=o.max,e=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*t(e,r,n))},r.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return i.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+n(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?i.log("ConnectionMonitor skipping reopening recent disconnect"):(i.log("ConnectionMonitor reopening"),this.connection.reopen())},r.prototype.connectionIsStale=function(){var t;return n(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},r.prototype.disconnectedRecently=function(){return this.disconnectedAt&&n(this.disconnectedAt)<this.constructor.staleThreshold},r.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((t=this,function(){if(t.connectionIsStale()||!t.connection.isOpen())return i.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}),200);var t},e=function(){return(new Date).getTime()},n=function(t){return(e()-t)/1e3},t=function(t,e,n){return Math.max(e,Math.min(n,t))},r}()}).call(this),function(){var t,e,n,r,o,s=[].slice,a=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};r=i.INTERNAL,e=r.message_types,n=r.protocols,o=2<=n.length?s.call(n,0,t=n.length-1):(t=0,[]),n[t++],i.Connection=function(){function t(t){var e,n;this.consumer=t,this.open=(e=this.open,n=this,function(){return e.apply(n,arguments)}),this.subscriptions=this.consumer.subscriptions,this.monitor=new i.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},t.prototype.open=function(){return this.isActive()?(i.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(i.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+n),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new i.WebSocket(this.consumer.url,n),this.installEventHandlers(),this.monitor.start(),!0)},t.prototype.close=function(t){var e;if((null!=t?t:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(e=this.webSocket)?e.close():void 0},t.prototype.reopen=function(){var t;if(i.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(e){return t=e,i.log("Failed to reopen WebSocket",t)}finally{i.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),a.call(o,t)>=0},t.prototype.isState=function(){var t,e;return e=1<=arguments.length?s.call(arguments,0):[],t=this.getState(),a.call(e,t)>=0},t.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},t.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},t.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},t.prototype.events={message:function(t){var n,r,o;if(this.isProtocolSupported())switch(n=(o=JSON.parse(t.data)).identifier,r=o.message,o.type){case e.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case e.ping:return this.monitor.recordPing();case e.confirmation:return this.subscriptions.notify(n,"connected");case e.rejection:return this.subscriptions.reject(n);default:return this.subscriptions.notify(n,"received",r)}},open:function(){if(i.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return i.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(t){if(i.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return i.log("WebSocket onerror event")}},t}()}.call(this),function(){var t=[].slice;i.Subscriptions=function(){function e(t){this.consumer=t,this.subscriptions=[]}return e.prototype.create=function(t,e){var n,r,o;return r="object"==typeof(n=t)?n:{channel:n},o=new i.Subscription(this.consumer,r,e),this.add(o)},e.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},e.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},e.prototype.reject=function(t){var e,n,r,o,i;for(o=[],e=0,n=(r=this.findAll(t)).length;e<n;e++)i=r[e],this.forget(i),this.notify(i,"rejected"),o.push(i);return o},e.prototype.forget=function(t){var e;return this.subscriptions=function(){var n,r,o,i;for(i=[],n=0,r=(o=this.subscriptions).length;n<r;n++)(e=o[n])!==t&&i.push(e);return i}.call(this),t},e.prototype.findAll=function(t){var e,n,r,o,i;for(o=[],e=0,n=(r=this.subscriptions).length;e<n;e++)(i=r[e]).identifier===t&&o.push(i);return o},e.prototype.reload=function(){var t,e,n,r,o;for(r=[],t=0,e=(n=this.subscriptions).length;t<e;t++)o=n[t],r.push(this.sendCommand(o,"subscribe"));return r},e.prototype.notifyAll=function(){var e,n,r,o,i,s,a;for(n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],s=[],r=0,o=(i=this.subscriptions).length;r<o;r++)a=i[r],s.push(this.notify.apply(this,[a,n].concat(t.call(e))));return s},e.prototype.notify=function(){var e,n,r,o,i,s,a;for(s=arguments[0],n=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],i=[],r=0,o=(a="string"==typeof s?this.findAll(s):[s]).length;r<o;r++)s=a[r],i.push("function"==typeof s[n]?s[n].apply(s,e):void 0);return i},e.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,identifier:n})},e}()}.call(this),function(){i.Subscription=function(){var t;function e(e,n,r){this.consumer=e,null==n&&(n={}),this.identifier=JSON.stringify(n),t(this,r)}return e.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},e.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},e.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},t=function(t,e){var n,r;if(null!=e)for(n in e)r=e[n],t[n]=r;return t},e}()}.call(this),function(){i.Consumer=function(){function t(t){this.url=t,this.subscriptions=new i.Subscriptions(this),this.connection=new i.Connection(this)}return t.prototype.send=function(t){return this.connection.send(t)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),t.exports?t.exports=i:void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)}).call(this)},1165:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var i=n(259),s=n(186);var a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var u=n(1764),c=n(19),l={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},p=function(t,e,n){var r=new Error(n);throw r.name="ServerError",r.response=t,r.statusCode=t.status,r.result=e,r},f=function(t,e){var n;try{n=JSON.stringify(t)}catch(t){var r=new c.a(2);throw r.parseError=t,r}return n},d=function(t){void 0===t&&(t={});var e=t.uri,n=void 0===e?"/graphql":e,r=t.fetch,d=t.includeExtensions,h=t.useGETForQueries,v=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["uri","fetch","includeExtensions","useGETForQueries"]);!function(t){if(!t&&"undefined"==typeof fetch)throw new c.a(1)}(r),r||(r=fetch);var y={http:{includeExtensions:d},options:v.fetchOptions,credentials:v.credentials,headers:v.headers};return new i.a((function(t){var e=function(t,e){return t.getContext().uri||("function"==typeof e?e(t):e||"/graphql")}(t,n),c=t.getContext(),d={};if(c.clientAwareness){var v=c.clientAwareness,m=v.name,g=v.version;m&&(d["apollographql-client-name"]=m),g&&(d["apollographql-client-version"]=g)}var b,w=o({},d,c.headers),S={http:c.http,options:c.fetchOptions,credentials:c.credentials,headers:w},_=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=a({},e.options,{headers:e.headers,credentials:e.credentials}),i=e.http;n.forEach((function(t){o=a({},o,t.options,{headers:a({},o.headers,t.headers)}),t.credentials&&(o.credentials=t.credentials),i=a({},i,t.http)}));var s=t.operationName,c=t.extensions,l=t.variables,p=t.query,f={operationName:s,variables:l};return i.includeExtensions&&(f.extensions=c),i.includeQuery&&(f.query=Object(u.a)(p)),{options:o,body:f}}(t,l,y,S),O=_.options,I=_.body;if(!O.signal){var E=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var t=new AbortController;return{controller:t,signal:t.signal}}(),k=E.controller,j=E.signal;(b=k)&&(O.signal=j)}if(h&&!t.query.definitions.some((function(t){return"OperationDefinition"===t.kind&&"mutation"===t.operation}))&&(O.method="GET"),"GET"===O.method){var x=function(t,e){var n=[],r=function(t,e){n.push(t+"="+encodeURIComponent(e))};"query"in e&&r("query",e.query);e.operationName&&r("operationName",e.operationName);if(e.variables){var o=void 0;try{o=f(e.variables)}catch(t){return{parseError:t}}r("variables",o)}if(e.extensions){var i=void 0;try{i=f(e.extensions)}catch(t){return{parseError:t}}r("extensions",i)}var s="",a=t,u=t.indexOf("#");-1!==u&&(s=t.substr(u),a=t.substr(0,u));var c=-1===a.indexOf("?")?"?":"&";return{newURI:a+c+n.join("&")+s}}(e,I),P=x.newURI,A=x.parseError;if(A)return Object(i.c)(A);e=P}else try{O.body=f(I)}catch(A){return Object(i.c)(A)}return new s.a((function(n){var o;return r(e,O).then((function(e){return t.setContext({response:e}),e})).then((o=t,function(t){return t.text().then((function(e){try{return JSON.parse(e)}catch(r){var n=r;return n.name="ServerParseError",n.response=t,n.statusCode=t.status,n.bodyText=e,Promise.reject(n)}})).then((function(e){return t.status>=300&&p(t,e,"Response not successful: Received status code "+t.status),Array.isArray(e)||e.hasOwnProperty("data")||e.hasOwnProperty("errors")||p(t,e,"Server response was missing for query '"+(Array.isArray(o)?o.map((function(t){return t.operationName})):o.operationName)+"'."),e}))})).then((function(t){return n.next(t),n.complete(),t})).catch((function(t){"AbortError"!==t.name&&(t.result&&t.result.errors&&t.result.data&&n.next(t.result),n.error(t))})),function(){b&&b.abort()}}))}))};var h=function(t){function e(e){return t.call(this,d(e).request)||this}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(i.a)},118:function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(813),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},1276:function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvoInspector=void 0;var r=n(2),o=n(3),i=n(4),s=n(7),a=n(8),u=n(10),c=n(11),l=n(5),p=n(12).version,f=function(){function t(e){var n=this;if(l.isValueEmpty(e.env)?(this.environment=r.AvoInspectorEnv.Dev,console.warn("[Avo Inspector] No environment provided. Defaulting to dev.")):-1===Object.values(r.AvoInspectorEnv).indexOf(e.env)?(this.environment=r.AvoInspectorEnv.Dev,console.warn("[Avo Inspector] Unsupported environment provided. Defaulting to dev. Supported environments - Dev, Staging, Prod.")):this.environment=e.env,l.isValueEmpty(e.apiKey))throw new Error("[Avo Inspector] No API key provided. Inspector can't operate without API key.");if(this.apiKey=e.apiKey,l.isValueEmpty(e.version))throw new Error("[Avo Inspector] No version provided. Many features of Inspector rely on versioning. Please provide comparable string version, i.e. integer or semantic.");this.version=e.version,this.environment===r.AvoInspectorEnv.Dev?(t._batchSize=1,t._shouldLog=!0):(t._batchSize=30,t._batchFlushSeconds=30,t._shouldLog=!1),t.avoStorage=new u.AvoStorage(t._shouldLog);var o=new a.AvoNetworkCallsHandler(this.apiKey,this.environment.toString(),e.appName||"",this.version,p);this.avoBatcher=new s.AvoBatcher(o),this.sessionTracker=new i.AvoSessionTracker(this.avoBatcher),this.avoDeduplicator=new c.AvoDeduplicator;try{"undefined"!=typeof window&&window.addEventListener("load",(function(){n.sessionTracker.startOrProlongSession(Date.now())}),!1)}catch(t){console.error("Avo Inspector: something went wrong. Please report to support@avo.app.",t)}}return Object.defineProperty(t,"batchSize",{get:function(){return this._batchSize},set:function(t){this._batchSize=t<1?1:t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"batchFlushSeconds",{get:function(){return this._batchFlushSeconds},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shouldLog",{get:function(){return this._shouldLog},set:function(t){this._shouldLog=t},enumerable:!1,configurable:!0}),t.prototype.trackSchemaFromEvent=function(e,n){try{if(this.avoDeduplicator.shouldRegisterEvent(e,n,!1)){t.shouldLog&&console.log("Avo Inspector: supplied event "+e+" with params "+JSON.stringify(n));var r=this.extractSchema(n,!1);return this.trackSchemaInternal(e,r,null,null),r}return t.shouldLog&&console.log("Avo Inspector: Deduplicated event: "+e),[]}catch(t){return console.error("Avo Inspector: something went wrong. Please report to support@avo.app.",t),[]}},t.prototype._avoFunctionTrackSchemaFromEvent=function(e,n,r,o){try{if(this.avoDeduplicator.shouldRegisterEvent(e,n,!0)){t.shouldLog&&console.log("Avo Inspector: supplied event "+e+" with params "+JSON.stringify(n));var i=this.extractSchema(n,!1);return this.trackSchemaInternal(e,i,r,o),i}return t.shouldLog&&console.log("Avo Inspector: Deduplicated event: "+e),[]}catch(t){return console.error("Avo Inspector: something went wrong. Please report to support@avo.app.",t),[]}},t.prototype.trackSchema=function(e,n){try{this.avoDeduplicator.shouldRegisterSchemaFromManually(e,n)?(t.shouldLog&&console.log("Avo Inspector: supplied event "+e+" with schema "+JSON.stringify(n)),this.trackSchemaInternal(e,n,null,null)):t.shouldLog&&console.log("Avo Inspector: Deduplicated event: "+e)}catch(t){console.error("Avo Inspector: something went wrong. Please report to support@avo.app.",t)}},t.prototype.trackSchemaInternal=function(t,e,n,r){try{this.sessionTracker.startOrProlongSession(Date.now()),this.avoBatcher.handleTrackSchema(t,e,n,r)}catch(t){console.error("Avo Inspector: something went wrong. Please report to support@avo.app.",t)}},t.prototype.enableLogging=function(e){t._shouldLog=e},t.prototype.extractSchema=function(e,n){void 0===n&&(n=!0);try{return this.sessionTracker.startOrProlongSession(Date.now()),this.avoDeduplicator.hasSeenEventParams(e,!0)&&n&&t.shouldLog&&console.warn("Avo Inspector: WARNING! You are trying to extract schema shape that was just reported by your Avo functions. This is an indicator of duplicate inspector reporting. Please reach out to support@avo.app for advice if you are not sure how to handle this."),t.shouldLog&&console.log("Avo Inspector: extracting schema from "+JSON.stringify(e)),o.AvoSchemaParser.extractSchema(e)}catch(t){return console.error("Avo Inspector: something went wrong. Please report to support@avo.app.",t),[]}},t.prototype.setBatchSize=function(e){t._batchSize=e},t.prototype.setBatchFlushSeconds=function(e){t._batchFlushSeconds=e},t._batchSize=30,t._batchFlushSeconds=30,t._shouldLog=!1,t}();e.AvoInspector=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvoInspectorEnv=void 0,e.AvoInspectorEnv={Prod:"prod",Dev:"dev",Staging:"staging"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvoSchemaParser=void 0;var r=function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=function(){function t(){}return t.extractSchema=function(t){var e=this;if(null==t)return[];var n=function(t){if(r(t)){var o=t.map((function(t){return n(t)}));return e.removeDuplicates(o)}if("object"==typeof t){var i=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s],u={propertyName:s,propertyType:e.getPropValueType(a)};"object"==typeof a&&null!=a&&(u.children=n(a)),i.push(u)}return i}return e.getPropValueType(t)};return n(t)},t.removeDuplicates=function(t){var e={boolean:{},number:{},string:{}},n=[];return t.filter((function(t){var r=typeof t;return r in e?!e[r].hasOwnProperty(t)&&(e[r][t]=!0):!(n.indexOf(t)>=0)&&n.push(t)}))},t.getPropValueType=function(t){var e=typeof t;return null==t?"null":"string"===e?"string":"number"===e||"bigint"===e?(t+"").indexOf(".")>=0?"float":"int":"boolean"===e?"boolean":"object"===e?r(t)?"list":"object":"unknown"},t}();e.AvoSchemaParser=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvoSessionTracker=void 0;var r=n(1),o=n(0),i=function(){function t(t){this._lastSessionTimestamp=null,this._sessionLengthMillis=3e5,this.avoBatcher=t}return Object.defineProperty(t,"sessionId",{get:function(){if(null===t._sessionId){if(!o.AvoInspector.avoStorage.isInitialized())return"unknown";var e=null;try{e=o.AvoInspector.avoStorage.getItem(t.idCacheKey)}catch(t){console.error("Avo Inspector: something went wrong. Please report to support@avo.app.",t)}t._sessionId=null==e?this.updateSessionId():e}return t._sessionId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastSessionTimestamp",{get:function(){if(null===this._lastSessionTimestamp||0===this._lastSessionTimestamp){var e=o.AvoInspector.avoStorage.getItem(t.lastSessionTimestampKey);null!=e?(this._lastSessionTimestamp=e,isNaN(this._lastSessionTimestamp)&&(this._lastSessionTimestamp=0)):this._lastSessionTimestamp=0}return this._lastSessionTimestamp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionLengthMillis",{get:function(){return this._sessionLengthMillis},enumerable:!1,configurable:!0}),t.prototype.startOrProlongSession=function(e){var n=this;o.AvoInspector.avoStorage.runAfterInit((function(){e-n.lastSessionTimestamp>n._sessionLengthMillis&&(t.updateSessionId(),n.avoBatcher.handleSessionStarted()),n._lastSessionTimestamp=e,o.AvoInspector.avoStorage.setItem(t.lastSessionTimestampKey,n._lastSessionTimestamp)}))},t.updateSessionId=function(){t._sessionId=r.default.newGuid();try{o.AvoInspector.avoStorage.setItem(t.idCacheKey,t.sessionId)}catch(t){console.error("Avo Inspector: something went wrong. Please report to support@avo.app.",t)}return t._sessionId},Object.defineProperty(t,"lastSessionTimestampKey",{get:function(){return"AvoInspectorSessionTimestamp"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"idCacheKey",{get:function(){return"AvoInspectorSessionId"},enumerable:!1,configurable:!0}),t._sessionId=null,t}();e.AvoSessionTracker=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deepEquals=e.isValueEmpty=void 0,e.isValueEmpty=function(t){return null==t||0==t.trim().length},e.deepEquals=function t(e,n){if(e===n)return!0;if(!(e instanceof Object&&n instanceof Object))return!1;if(e.constructor!==n.constructor)return!1;for(var r in e)if(e.hasOwnProperty(r)){if(!n.hasOwnProperty(r))return!1;if(e[r]!==n[r]){if("object"!=typeof e[r])return!1;if(!t(e[r],n[r]))return!1}}for(r in n)if(n.hasOwnProperty(r)&&!e.hasOwnProperty(r))return!1;return!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvoInspectorEnv=e.AvoInspector=void 0;var r=n(0);Object.defineProperty(e,"AvoInspector",{enumerable:!0,get:function(){return r.AvoInspector}});var o=n(2);Object.defineProperty(e,"AvoInspectorEnv",{enumerable:!0,get:function(){return o.AvoInspectorEnv}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvoBatcher=void 0;var r=n(0),o=function(){function t(e){var n=this;this.events=[],this.networkCallsHandler=e,this.batchFlushAttemptTimestamp=Date.now(),r.AvoInspector.avoStorage.getItemAsync(t.cacheKey).then((function(t){if(null!==t){var e=t.filter((function(t){return null!==t}));n.events=n.events.concat(e),n.checkIfBatchNeedsToBeSent()}}))}return t.prototype.handleSessionStarted=function(){this.events.push(this.networkCallsHandler.bodyForSessionStartedCall()),this.saveEvents(),this.checkIfBatchNeedsToBeSent()},t.prototype.handleTrackSchema=function(t,e,n,o){this.events.push(this.networkCallsHandler.bodyForEventSchemaCall(t,e,n,o)),this.saveEvents(),r.AvoInspector.shouldLog&&console.log("Avo Inspector: saved event "+t+" with schema "+JSON.stringify(e)),this.checkIfBatchNeedsToBeSent()},t.prototype.checkIfBatchNeedsToBeSent=function(){var t=this.events.length,e=Date.now(),n=e-this.batchFlushAttemptTimestamp,o=t%r.AvoInspector.batchSize==0,i=n>=1e3*r.AvoInspector.batchFlushSeconds,s=this;if(o||i){this.batchFlushAttemptTimestamp=e;var a=s.events;s.events=[],this.networkCallsHandler.callInspectorWithBatchBody(a,(function(t){null!=t?(s.events=s.events.concat(a),r.AvoInspector.shouldLog&&console.log("Avo Inspector: batch sending failed: "+t+". We will attempt to send your schemas with next batch")):r.AvoInspector.shouldLog&&console.log("Avo Inspector: batch sent successfully."),s.saveEvents()}))}},t.prototype.saveEvents=function(){if(this.events.length>1e3){var e=this.events.length-1e3;this.events.splice(0,e)}r.AvoInspector.avoStorage.setItem(t.cacheKey,this.events)},Object.defineProperty(t,"cacheKey",{get:function(){return"AvoInspectorEvents"},enumerable:!1,configurable:!0}),t}();e.AvoBatcher=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvoNetworkCallsHandler=void 0;var r=n(1),o=n(4),i=n(0),s=n(9),a=function(){function t(t,e,n,r,o){this.samplingRate=1,this.sending=!1,this.apiKey=t,this.envName=e,this.appName=n,this.appVersion=r,this.libVersion=o}return t.prototype.callInspectorWithBatchBody=function(e,n){var r=this;if(this.sending)n("Batch sending cancelled because another batch sending is in progress. Your events will be sent with next batch.");else{var o=e.filter((function(t){return null!=t}));if(this.fixSessionAndTrackingIds(o),0!==o.length)if(Math.random()>this.samplingRate)i.AvoInspector.shouldLog&&console.log("Avo Inspector: last event schema dropped due to sampling rate.");else{i.AvoInspector.shouldLog&&(console.log("Avo Inspector: events",o),o.forEach((function(t){if("sessionStarted"===t.type)console.log("Avo Inspector: sending session started event.");else if("event"===t.type){var e=t;console.log("Avo Inspector: sending event "+e.eventName+" with schema "+JSON.stringify(e.eventProperties))}}))),this.sending=!0;var s=new XMLHttpRequest;s.open("POST",t.trackingEndpoint,!0),s.setRequestHeader("Content-Type","text/plain"),s.send(JSON.stringify(o)),s.onload=function(){if(200!=s.status)n("Error "+s.status+": "+s.statusText);else{var t=JSON.parse(s.response).samplingRate;void 0!==t&&(r.samplingRate=t),n(null)}},s.onerror=function(){n("Request failed")},s.ontimeout=function(){n("Request timed out")},this.sending=!1}}},t.prototype.fixSessionAndTrackingIds=function(t){var e=null,n=null;t.forEach((function(t){null!==t.sessionId&&void 0!==t.sessionId&&"unknown"!==t.sessionId&&(e=t.sessionId),null!==t.trackingId&&void 0!==t.trackingId&&"unknown"!==t.trackingId&&(n=t.trackingId)})),t.forEach((function(t){"unknown"===t.sessionId&&(t.sessionId=null!=e?e:o.AvoSessionTracker.sessionId),"unknown"===t.trackingId&&(t.trackingId=null!=n?n:s.AvoInstallationId.getInstallationId())}))},t.prototype.bodyForSessionStartedCall=function(){var t=this.createBaseCallBody();return t.type="sessionStarted",t},t.prototype.bodyForEventSchemaCall=function(t,e,n,r){var o=this.createBaseCallBody();return o.type="event",o.eventName=t,o.eventProperties=e,null!=n?(o.avoFunction=!0,o.eventId=n,o.eventHash=r):(o.avoFunction=!1,o.eventId=null,o.eventHash=null),o},t.prototype.createBaseCallBody=function(){return{apiKey:this.apiKey,appName:this.appName,appVersion:this.appVersion,libVersion:this.libVersion,env:this.envName,libPlatform:"web",messageId:r.default.newGuid(),trackingId:s.AvoInstallationId.getInstallationId(),createdAt:(new Date).toISOString(),sessionId:o.AvoSessionTracker.sessionId,samplingRate:this.samplingRate}},t.trackingEndpoint="https://api.avo.app/inspector/v1/track",t}();e.AvoNetworkCallsHandler=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvoInstallationId=void 0;var r=n(1),o=n(0),i=function(){function t(){}return t.getInstallationId=function(){if(null!==t.installationId)return t.installationId;if(!o.AvoInspector.avoStorage.isInitialized())return"unknown";var e=o.AvoInspector.avoStorage.getItem(t.cacheKey);return null==e?(t.installationId=r.default.newGuid(),o.AvoInspector.avoStorage.setItem(t.cacheKey,t.installationId)):t.installationId=e,t.installationId},Object.defineProperty(t,"cacheKey",{get:function(){return"AvoInstallationId"},enumerable:!1,configurable:!0}),t.installationId=null,t}();e.AvoInstallationId=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AvoStorage=void 0;var i=function(){function t(){}return t.prototype.parseJson=function(t){return null!=t?JSON.parse(t):null},t}(),s=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.androidMemoryDataToAvoidAsyncQueries={},e.AsyncStorage=null,e.memoryStorageInitialized=!1,e.onStorageInitFuncs=[],e.reactNative=null,e.shouldLog=!1,e}o(e,t),e.prototype.init=function(t){},e.prototype.loadAndroidDataToMemoryToAvoidAsyncQueries=function(t){var e=this;this.AsyncStorage.getAllKeys().then((function(n){return e.AsyncStorage.multiGet(n).then((function(n){e.shouldLog&&console.log("Avo Inspector: android loaded data from memory"),n.forEach((function(t){var n=t[0];e.androidMemoryDataToAvoidAsyncQueries[n]=t[1],e.shouldLog&&console.log(n,t[1])})),t()}))}))},e.prototype.initializeStorageAndroid=function(){this.memoryStorageInitialized=!0,this.onStorageInitFuncs.forEach((function(t){t()}))},e.prototype.isInitialized=function(){return this.reactNative&&this.memoryStorageInitialized},e.prototype.getItemAsync=function(t){return this.AsyncStorage.getItem(t).then((function(t){return null!=t?JSON.parse(t):null}))},e.prototype.getItem=function(t){var e=this.androidMemoryDataToAvoidAsyncQueries[t];return this.parseJson(e)},e.prototype.setItem=function(t,e){this.AsyncStorage.setItem(t,JSON.stringify(e)),this.androidMemoryDataToAvoidAsyncQueries[t]=JSON.stringify(e)},e.prototype.removeItem=function(t){this.AsyncStorage.removeItem(t),this.androidMemoryDataToAvoidAsyncQueries[t]=null},e.prototype.runAfterInit=function(t){!0===this.memoryStorageInitialized?t():this.onStorageInitFuncs.push(t)}}(i),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reactNative=null,e}o(e,t),e.prototype.init=function(t){},e.prototype.isInitialized=function(){return null!=this.reactNative},e.prototype.getItemAsync=function(t){var e=this.reactNative.Settings.get(t);return Promise.resolve(this.parseJson(e))},e.prototype.getItem=function(t){var e=this.reactNative.Settings.get(t);return this.parseJson(e)},e.prototype.setItem=function(t,e){var n;this.reactNative.Settings.set(((n={})[t]=JSON.stringify(e),n))},e.prototype.removeItem=function(t){var e;this.reactNative.Settings.set(((e={})[t]=null,e))},e.prototype.runAfterInit=function(t){t()}}(i),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.useFallbackStorage=!1,e.fallbackStorage={},e.storageInitialized=!1,e.onStorageInitFuncs=[],e.shouldLog=!1,e}return o(e,t),e.prototype.init=function(t){this.shouldLog=t,this.initializeStorageWeb(this.isLocalStorageAvailable())},e.prototype.initializeStorageWeb=function(t){this.storageInitialized=!0,!1===t&&(this.useFallbackStorage=!0),this.onStorageInitFuncs.forEach((function(t){t()}))},e.prototype.isLocalStorageAvailable=function(){var t=(new Date).toISOString();try{return window.localStorage.setItem(t,t),window.localStorage.getItem(t)===t&&(window.localStorage.removeItem(t),!0)}catch(t){return!1}},e.prototype.isInitialized=function(){return this.storageInitialized},e.prototype.getItemAsync=function(t){var e=this;return new Promise((function(n,r){e.runAfterInit((function(){if(!0===e.useFallbackStorage){var r=e.fallbackStorage[t];n(e.parseJson(r))}else if("undefined"!=typeof window){r=void 0;try{r=window.localStorage.getItem(t)}catch(t){e.shouldLog&&console.error("Avo Inspector Storage getItemAsync error:",t),n(null)}n(e.parseJson(r))}else n(null)}))}))},e.prototype.getItem=function(t){var e;if(!1===this.storageInitialized)e=null;else if(!0===this.useFallbackStorage)e=this.fallbackStorage[t];else if("undefined"!=typeof window)try{e=window.localStorage.getItem(t)}catch(t){this.shouldLog&&console.error("Avo Inspector Storage getItem error:",t)}return this.parseJson(e)},e.prototype.setItem=function(t,e){var n=this;this.runAfterInit((function(){if(!0===n.useFallbackStorage)n.fallbackStorage[t]=JSON.stringify(e);else if("undefined"!=typeof window)try{window.localStorage.setItem(t,JSON.stringify(e))}catch(t){n.shouldLog&&console.error("Avo Inspector Storage setItem error:",t)}}))},e.prototype.removeItem=function(t){var e=this;this.runAfterInit((function(){if(!0===e.useFallbackStorage)e.fallbackStorage[t]=null;else if("undefined"!=typeof window)try{window.localStorage.removeItem(t)}catch(t){e.shouldLog&&console.error("Avo Inspector Storage removeItem error:",t)}}))},e.prototype.runAfterInit=function(t){!0===this.storageInitialized?t():this.onStorageInitFuncs.push(t)},e}(i)),a=function(){function t(t){this.Platform=null,this.Platform="browser",this.storageImpl=new s,this.storageImpl.init(t)}return t.prototype.isInitialized=function(){return this.storageImpl.isInitialized()},t.prototype.getItemAsync=function(t){return this.storageImpl.getItemAsync(t)},t.prototype.getItem=function(t){return this.storageImpl.getItem(t)},t.prototype.setItem=function(t,e){this.storageImpl.setItem(t,e)},t.prototype.removeItem=function(t){this.storageImpl.removeItem(t)},t.prototype.runAfterInit=function(t){this.storageImpl.runAfterInit(t)},t}();e.AvoStorage=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvoDeduplicator=void 0;var r=n(3),o=n(5),i=function(){function t(){this.avoFunctionsEvents={},this.manualEvents={},this.avoFunctionsEventsParams={},this.manualEventsParams={}}return t.prototype.shouldRegisterEvent=function(t,e,n){this.clearOldEvents(),n?(this.avoFunctionsEvents[Date.now()]=t,this.avoFunctionsEventsParams[t]=e):(this.manualEvents[Date.now()]=t,this.manualEventsParams[t]=e);var r=!n;return!this.hasSameEventAs(t,e,r)},t.prototype.hasSameEventAs=function(t,e,n){var r=!1;return n?this.lookForEventIn(t,e,this.avoFunctionsEventsParams)&&(r=!0):this.lookForEventIn(t,e,this.manualEventsParams)&&(r=!0),r&&(delete this.avoFunctionsEventsParams[t],delete this.manualEventsParams[t]),r},t.prototype.lookForEventIn=function(t,e,n){for(var r in n)if(n.hasOwnProperty(r)&&r===t){var i=n[t];if(i&&o.deepEquals(e,i))return!0}return!1},t.prototype.hasSeenEventParams=function(t,e){var n=!1;return e?this.lookForEventParamsIn(t,this.avoFunctionsEventsParams)&&(n=!0):this.lookForEventParamsIn(t,this.manualEventsParams)&&(n=!0),n},t.prototype.lookForEventParamsIn=function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(r&&o.deepEquals(t,r))return!0}return!1},t.prototype.shouldRegisterSchemaFromManually=function(t,e){return this.clearOldEvents(),!this.hasSameShapeInAvoFunctionsAs(t,e)},t.prototype.hasSameShapeInAvoFunctionsAs=function(t,e){var n=!1;return this.lookForEventSchemaIn(t,e,this.avoFunctionsEventsParams)&&(n=!0),n&&delete this.avoFunctionsEventsParams[t],n},t.prototype.lookForEventSchemaIn=function(t,e,n){for(var i in n)if(n.hasOwnProperty(i)&&i===t){var s=r.AvoSchemaParser.extractSchema(n[t]);if(s&&o.deepEquals(e,s))return!0}return!1},t.prototype.clearOldEvents=function(){var t=Date.now();for(var e in this.avoFunctionsEvents)if(this.avoFunctionsEvents.hasOwnProperty(e)&&t-(Number(e)||0)>300){var n=this.avoFunctionsEvents[e];delete this.avoFunctionsEvents[e],delete this.avoFunctionsEventsParams[n]}for(var e in this.manualEvents)this.manualEvents.hasOwnProperty(e)&&t-(Number(e)||0)>300&&(n=this.manualEvents[e],delete this.manualEvents[e],delete this.manualEventsParams[n])},t.prototype._clearEvents=function(){this.avoFunctionsEvents={},this.manualEvents={},this.avoFunctionsEventsParams={},this.manualEventsParams={}},t}();e.AvoDeduplicator=i},function(t){t.exports=JSON.parse('{"name":"avo-inspector","version":"1.2.6","description":"","main":"dist/index.js","browser":"dist/index.js","react-native":"dist-native/index.js","types":"dist/index.d.ts","scripts":{"build":"tsc --emitDeclarationOnly && webpack src/index.ts --mode production --resolve-extensions .ts --module-bind ts=ts-loader --define process.env.BROWSER=1 --output-filename index.js --output-library-target umd","build-native":"tsc --outDir dist-native","test":"jest","test:browser":"BROWSER=1 jest","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/avohq/web-avo-inspector.git"},"jest":{"transform":{"^.+\\\\.[j]sx?$":"babel-jest","^.+\\\\.[t]sx?$":"ts-jest"},"testPathIgnorePatterns":["constants","examples","node_modules","dist","dist-native"],"testRegex":"(/__tests__/.*|\\\\.(test|spec))\\\\.(ts|tsx|js)$","moduleFileExtensions":["ts","tsx","js"]},"keywords":["web","analytics","avo","react","react-native","node","javascript"],"author":"Avo (https://www.avo.app)","license":"MIT","bugs":{"url":"https://github.com/avohq/web-avo-inspector/issues"},"homepage":"https://github.com/avohq/web-avo-inspector#readme","devDependencies":{"@babel/core":"7.12.10","@babel/preset-env":"7.12.11","@types/jest":"26.0.19","@types/node":"14.14.16","babel-preset-es2015":"6.24.1","babel-preset-react":"6.24.1","eslint":"7.16.0","eslint-plugin-react":"7.21.5","jest":"26.6.3","prettier":"2.2.1","prettier-eslint":"12.0.0","ts-jest":"26.4.4","ts-loader":"8.0.12","typescript":"4.1.3","webpack":"4.44.2","webpack-cli":"3.3.12"},"externals":["react-native"]}')}])},1277:function(t,e,n){(function(e,n){var r;r=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){r(t,e,n[e])}))}return t}var i="$default_instance",s=2,a=4096,u=1e3,c="$identify",l="$groupidentify",p="amplitude_lastEventId",f="amplitude_lastEventTime",d="amplitude_lastIdentifyId",h="amplitude_lastSequenceNumber",v="amplitude_sessionId",y="amplitude_deviceId",m="amplitude_optOut",g="amplitude_userId",b="amplitude_cookie_test",w="revenue_amount",S="$productId",_="$quantity",O="$price",I="$revenueType",E="amp_device_id",k="referrer",j="utm_source",x="utm_medium",P="utm_campaign",A="utm_term",R="utm_content",q=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e},N=function(t){for(var e="",n=0,r=0,o=0,i=0;n<t.length;)(r=t.charCodeAt(n))<128?(e+=String.fromCharCode(r),n++):r>191&&r<224?(o=t.charCodeAt(n+1),e+=String.fromCharCode((31&r)<<6|63&o),n+=2):(o=t.charCodeAt(n+1),i=t.charCodeAt(n+2),e+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&i),n+=3);return e},T={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){try{if(window.btoa&&window.atob)return window.btoa(unescape(encodeURIComponent(t)))}catch(t){}return T._encode(t)},_encode:function(t){var e,n,r,o,i,s,a,u="",c=0;for(t=q(t);c<t.length;)o=(e=t.charCodeAt(c++))>>2,i=(3&e)<<4|(n=t.charCodeAt(c++))>>4,s=(15&n)<<2|(r=t.charCodeAt(c++))>>6,a=63&r,isNaN(n)?s=a=64:isNaN(r)&&(a=64),u=u+T._keyStr.charAt(o)+T._keyStr.charAt(i)+T._keyStr.charAt(s)+T._keyStr.charAt(a);return u},decode:function(t){try{if(window.btoa&&window.atob)return decodeURIComponent(escape(window.atob(t)))}catch(t){}return T._decode(t)},_decode:function(t){var e,n,r,o,i,s,a="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)e=T._keyStr.indexOf(t.charAt(u++))<<2|(o=T._keyStr.indexOf(t.charAt(u++)))>>4,n=(15&o)<<4|(i=T._keyStr.indexOf(t.charAt(u++)))>>2,r=(3&i)<<6|(s=T._keyStr.indexOf(t.charAt(u++))),a+=String.fromCharCode(e),64!==i&&(a+=String.fromCharCode(n)),64!==s&&(a+=String.fromCharCode(r));return a=N(a)}},C=Object.prototype.toString;function Q(n){switch(C.call(n)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===n?"null":void 0===n?"undefined":n!=n?"nan":n&&1===n.nodeType?"element":void 0!==e&&"function"==typeof e.isBuffer&&e.isBuffer(n)?"buffer":t(n=n.valueOf?n.valueOf():Object.prototype.valueOf.apply(n))}var D,M={DISABLE:0,ERROR:1,WARN:2,INFO:3},F=M.WARN,L={error:function(t){F>=M.ERROR&&V(t)},warn:function(t){F>=M.WARN&&V(t)},info:function(t){F>=M.INFO&&V(t)}},V=function(t){try{console.log("[Amplitude] "+t)}catch(t){}},B=function(t){return"string"===Q(t)&&t.length>a?t.substring(0,a):t},U=function(t){var e=Q(t);if("object"!==e)return L.error("Error: invalid properties format. Expecting Javascript object, received "+e+", ignoring"),{};if(Object.keys(t).length>u)return L.error("Error: too many properties (more than 1000), ignoring"),{};var n={};for(var r in t)if(t.hasOwnProperty(r)){var o=r,i=Q(o);"string"!==i&&(o=String(o),L.warn("WARNING: Non-string property key, received type "+i+', coercing to string "'+o+'"'));var s=K(o,t[r]);null!==s&&(n[o]=s)}return n},z=["nan","function","arguments","regexp","element"],K=function t(e,n){var r=Q(n);if(-1!==z.indexOf(r))L.warn('WARNING: Property key "'+e+'" with invalid value type '+r+", ignoring"),n=null;else if("undefined"===r)n=null;else if("error"===r)n=String(n),L.warn('WARNING: Property key "'+e+'" with value type error, coercing to '+n);else if("array"===r){for(var o=[],i=0;i<n.length;i++){var s=n[i],a=Q(s);"array"!==a?"object"===a?o.push(U(s)):o.push(t(e,s)):L.warn("WARNING: Cannot have "+a+" nested in an array property value, skipping")}n=o}else"object"===r&&(n=U(n));return n},W=function(t,e){var n=Q(e);if("string"===n)return e;if("date"===n||"number"===n||"boolean"===n)return e=String(e),L.warn("WARNING: Non-string groupName, received type "+n+', coercing to string "'+e+'"'),e;if("array"===n){for(var r=[],o=0;o<e.length;o++){var i=e[o],s=Q(i);"array"!==s&&"object"!==s?"string"===s?r.push(i):"date"!==s&&"number"!==s&&"boolean"!==s||(i=String(i),L.warn("WARNING: Non-string groupName, received type "+s+', coercing to string "'+i+'"'),r.push(i)):L.warn("WARNING: Skipping nested "+s+" in array groupName")}return r}L.warn("WARNING: Non-string groupName, received type "+n+". Please use strings or array of strings for groupName")},G=function(t){M.hasOwnProperty(t)&&(F=M[t])},J=L,H=function(t){return!t||0===t.length},$=function(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===n?void 0:decodeURIComponent(n[1].replace(/\+/g," "))},X=function t(e){if("array"===Q(e))for(var n=0;n<e.length;n++)e[n]=t(e[n]);else if("object"===Q(e))for(var r in e)e.hasOwnProperty(r)&&(e[r]=t(e[r]));else e=B(e);return e},Y=function(t){var e=Q(t);if("object"!==e)return L.error("Error: invalid groups format. Expecting Javascript object, received "+e+", ignoring"),{};var n={};for(var r in t)if(t.hasOwnProperty(r)){var o=r,i=Q(o);"string"!==i&&(o=String(o),L.warn("WARNING: Non-string groupType, received type "+i+', coercing to string "'+o+'"'));var s=W(o,t[r]);null!==s&&(n[o]=s)}return n},Z=function(t,e,n){return Q(t)===n||(L.error("Invalid "+e+" input type. Expected "+n+" but received "+Q(t)),!1)},tt=U,et=function(){return window.location},nt=function(t,e,n){var r=null!==e?n.expirationDays:-1;if(r){var o=new Date;o.setTime(o.getTime()+24*r*60*60*1e3),r=o}var i=t+"="+e;r&&(i+="; expires="+r.toUTCString()),i+="; path=/",n.domain&&(i+="; domain="+n.domain),n.secure&&(i+="; Secure"),n.sameSite&&(i+="; SameSite="+n.sameSite),document.cookie=i},rt=function(t){try{for(var e=document.cookie.split(";"),n=null,r=0;r<e.length;r++){for(var o=e[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t)){n=o.substring(t.length,o.length);break}}return n}catch(t){return null}},ot={expirationDays:void 0,domain:void 0},it=function(t){var e=function(t){var e=document.createElement("a");return e.href=t,e.hostname||location.hostname}(t).split("."),n=e[e.length-1],r=[];if(4===e.length&&n===parseInt(n,10))return r;if(e.length<=1)return r;for(var o=e.length-2;o>=0;--o)r.push(e.slice(o).join("."));for(var i=0;i<r.length;++i){var s="__tld_test__",a=r[i],u={domain:"."+a};if(nt(s,1,u),rt(s))return nt(s,null,u),a}return""},st=function(t){var e="";return ot.domain&&(e="."===ot.domain.charAt(0)?ot.domain.substring(1):ot.domain),t+e},at=function(t){var e=st(t)+"=",n=rt(e);try{if(n)return JSON.parse(T.decode(n))}catch(t){return null}return null},ut=function(t,e){try{return nt(st(t),T.encode(JSON.stringify(e)),ot),!0}catch(t){return!1}},ct=function(t){try{return nt(st(t),null,ot),!0}catch(t){return!1}},lt={reset:function(){ot={expirationDays:void 0,domain:void 0}},options:function(t){if(0===arguments.length)return ot;t=t||{},ot.expirationDays=t.expirationDays,ot.secure=t.secure,ot.sameSite=t.sameSite;var e=H(t.domain)?"."+it(et().href):t.domain,n=Math.random();ot.domain=e,ut("amplitude_test",n);var r=at("amplitude_test");return r&&r===n||(e=null),ct("amplitude_test"),ot.domain=e,ot},get:at,set:ut,remove:ct};if(function(){var t,e=new Date;try{return window.localStorage.setItem(e,e),t=window.localStorage.getItem(e)===String(e),window.localStorage.removeItem(e),t}catch(t){}return!1}())D=window.localStorage;else if(window.globalStorage)try{D=window.globalStorage[window.location.hostname]}catch(t){}else if("undefined"!=typeof document){var pt=document.createElement("div"),ft="localStorage";pt.style.display="none",document.getElementsByTagName("head")[0].appendChild(pt),pt.addBehavior&&(pt.addBehavior("#default#userdata"),D={length:0,setItem:function(t,e){pt.load(ft),pt.getAttribute(t)||this.length++,pt.setAttribute(t,e),pt.save(ft)},getItem:function(t){return pt.load(ft),pt.getAttribute(t)},removeItem:function(t){pt.load(ft),pt.getAttribute(t)&&this.length--,pt.removeAttribute(t),pt.save(ft)},clear:function(){pt.load(ft);for(var t,e=0;t=pt.XMLDocument.documentElement.attributes[e++];)pt.removeAttribute(t.name);pt.save(ft),this.length=0},key:function(t){return pt.load(ft),pt.XMLDocument.documentElement.attributes[t]}},pt.load(ft),D.length=pt.XMLDocument.documentElement.attributes.length)}D||(D={length:0,setItem:function(t,e){},getItem:function(t){},removeItem:function(t){},clear:function(){},key:function(t){}});var dt=D,ht=function(){this.storage=null};ht.prototype._cookiesEnabled=function(){var t,e=String(new Date);try{return lt.set(b,e),t=lt.get(b)===e,lt.remove(b),t}catch(t){}return!1},ht.prototype.getStorage=function(){if(null!==this.storage)return this.storage;if(this._cookiesEnabled())this.storage=lt;else{var t="amp_cookiestore_";this.storage={_options:{expirationDays:void 0,domain:void 0,secure:!1},reset:function(){this._options={expirationDays:void 0,domain:void 0,secure:!1}},options:function(t){return 0===arguments.length?this._options:(t=t||{},this._options.expirationDays=t.expirationDays||this._options.expirationDays,this._options.domain=t.domain||this._options.domain||window&&window.location&&window.location.hostname,this._options.secure=t.secure||!1)},get:function(e){try{return JSON.parse(dt.getItem(t+e))}catch(t){}return null},set:function(e,n){try{return dt.setItem(t+e,JSON.stringify(n)),!0}catch(t){}return!1},remove:function(e){try{dt.removeItem(t+e)}catch(t){return!1}}}}return this.storage};var vt="$clearAll",yt=function(){this.userPropertiesOperations={},this.properties=[]};yt.prototype.add=function(t,e){return"number"===Q(e)||"string"===Q(e)?this._addOperation("$add",t,e):J.error("Unsupported type for value: "+Q(e)+", expecting number or string"),this},yt.prototype.append=function(t,e){return this._addOperation("$append",t,e),this},yt.prototype.clearAll=function(){return Object.keys(this.userPropertiesOperations).length>0?(this.userPropertiesOperations.hasOwnProperty(vt)||J.error("Need to send $clearAll on its own Identify object without any other operations, skipping $clearAll"),this):(this.userPropertiesOperations.$clearAll="-",this)},yt.prototype.prepend=function(t,e){return this._addOperation("$prepend",t,e),this},yt.prototype.set=function(t,e){return this._addOperation("$set",t,e),this},yt.prototype.setOnce=function(t,e){return this._addOperation("$setOnce",t,e),this},yt.prototype.unset=function(t){return this._addOperation("$unset",t,"-"),this},yt.prototype._addOperation=function(t,e,n){this.userPropertiesOperations.hasOwnProperty(vt)?J.error("This identify already contains a $clearAll operation, skipping operation "+t):-1===this.properties.indexOf(e)?(this.userPropertiesOperations.hasOwnProperty(t)||(this.userPropertiesOperations[t]={}),this.userPropertiesOperations[t][e]=n,this.properties.push(e)):J.error('User property "'+e+'" already used in this identify, skipping operation '+t)};var mt="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{};function gt(t,e){return t(e={exports:{}},e.exports),e.exports}var bt=gt((function(t){!function(e){function n(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function r(t,e,r,o,i,s){return n((a=n(n(e,t),n(o,s)))<<(u=i)|a>>>32-u,r);var a,u}function o(t,e,n,o,i,s,a){return r(e&n|~e&o,t,e,i,s,a)}function i(t,e,n,o,i,s,a){return r(e&o|n&~o,t,e,i,s,a)}function s(t,e,n,o,i,s,a){return r(e^n^o,t,e,i,s,a)}function a(t,e,n,o,i,s,a){return r(n^(e|~o),t,e,i,s,a)}function u(t,e){var r,u,c,l,p;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var f=1732584193,d=-271733879,h=-1732584194,v=271733878;for(r=0;r<t.length;r+=16)u=f,c=d,l=h,p=v,f=o(f,d,h,v,t[r],7,-680876936),v=o(v,f,d,h,t[r+1],12,-389564586),h=o(h,v,f,d,t[r+2],17,606105819),d=o(d,h,v,f,t[r+3],22,-1044525330),f=o(f,d,h,v,t[r+4],7,-176418897),v=o(v,f,d,h,t[r+5],12,1200080426),h=o(h,v,f,d,t[r+6],17,-1473231341),d=o(d,h,v,f,t[r+7],22,-45705983),f=o(f,d,h,v,t[r+8],7,1770035416),v=o(v,f,d,h,t[r+9],12,-1958414417),h=o(h,v,f,d,t[r+10],17,-42063),d=o(d,h,v,f,t[r+11],22,-1990404162),f=o(f,d,h,v,t[r+12],7,1804603682),v=o(v,f,d,h,t[r+13],12,-40341101),h=o(h,v,f,d,t[r+14],17,-1502002290),f=i(f,d=o(d,h,v,f,t[r+15],22,1236535329),h,v,t[r+1],5,-165796510),v=i(v,f,d,h,t[r+6],9,-1069501632),h=i(h,v,f,d,t[r+11],14,643717713),d=i(d,h,v,f,t[r],20,-373897302),f=i(f,d,h,v,t[r+5],5,-701558691),v=i(v,f,d,h,t[r+10],9,38016083),h=i(h,v,f,d,t[r+15],14,-660478335),d=i(d,h,v,f,t[r+4],20,-405537848),f=i(f,d,h,v,t[r+9],5,568446438),v=i(v,f,d,h,t[r+14],9,-1019803690),h=i(h,v,f,d,t[r+3],14,-187363961),d=i(d,h,v,f,t[r+8],20,1163531501),f=i(f,d,h,v,t[r+13],5,-1444681467),v=i(v,f,d,h,t[r+2],9,-51403784),h=i(h,v,f,d,t[r+7],14,1735328473),f=s(f,d=i(d,h,v,f,t[r+12],20,-1926607734),h,v,t[r+5],4,-378558),v=s(v,f,d,h,t[r+8],11,-2022574463),h=s(h,v,f,d,t[r+11],16,1839030562),d=s(d,h,v,f,t[r+14],23,-35309556),f=s(f,d,h,v,t[r+1],4,-1530992060),v=s(v,f,d,h,t[r+4],11,1272893353),h=s(h,v,f,d,t[r+7],16,-155497632),d=s(d,h,v,f,t[r+10],23,-1094730640),f=s(f,d,h,v,t[r+13],4,681279174),v=s(v,f,d,h,t[r],11,-358537222),h=s(h,v,f,d,t[r+3],16,-722521979),d=s(d,h,v,f,t[r+6],23,76029189),f=s(f,d,h,v,t[r+9],4,-640364487),v=s(v,f,d,h,t[r+12],11,-421815835),h=s(h,v,f,d,t[r+15],16,530742520),f=a(f,d=s(d,h,v,f,t[r+2],23,-995338651),h,v,t[r],6,-198630844),v=a(v,f,d,h,t[r+7],10,1126891415),h=a(h,v,f,d,t[r+14],15,-1416354905),d=a(d,h,v,f,t[r+5],21,-57434055),f=a(f,d,h,v,t[r+12],6,1700485571),v=a(v,f,d,h,t[r+3],10,-1894986606),h=a(h,v,f,d,t[r+10],15,-1051523),d=a(d,h,v,f,t[r+1],21,-2054922799),f=a(f,d,h,v,t[r+8],6,1873313359),v=a(v,f,d,h,t[r+15],10,-30611744),h=a(h,v,f,d,t[r+6],15,-1560198380),d=a(d,h,v,f,t[r+13],21,1309151649),f=a(f,d,h,v,t[r+4],6,-145523070),v=a(v,f,d,h,t[r+11],10,-1120210379),h=a(h,v,f,d,t[r+2],15,718787259),d=a(d,h,v,f,t[r+9],21,-343485551),f=n(f,u),d=n(d,c),h=n(h,l),v=n(v,p);return[f,d,h,v]}function c(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function l(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function p(t){var e,n,r="0123456789abcdef",o="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),o+=r.charAt(e>>>4&15)+r.charAt(15&e);return o}function f(t){return unescape(encodeURIComponent(t))}function d(t){return function(t){return c(u(l(t),8*t.length))}(f(t))}function h(t,e){return function(t,e){var n,r,o=l(t),i=[],s=[];for(i[15]=s[15]=void 0,o.length>16&&(o=u(o,8*t.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],s[n]=1549556828^o[n];return r=u(i.concat(l(e)),512+8*e.length),c(u(s.concat(r),640))}(f(t),f(e))}function v(t,e,n){return e?n?h(e,t):p(h(e,t)):n?d(t):p(d(t))}t.exports?t.exports=v:e.md5=v}(mt)})),wt=Object.getOwnPropertySymbols,St=Object.prototype.hasOwnProperty,_t=Object.prototype.propertyIsEnumerable;function Ot(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var It=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,o=Ot(t),i=1;i<arguments.length;i++){for(var s in n=Object(arguments[i]))St.call(n,s)&&(o[s]=n[s]);if(wt){r=wt(n);for(var a=0;a<r.length;a++)_t.call(n,r[a])&&(o[r[a]]=n[r[a]])}}return o},Et="%[a-f0-9]{2}";function kt(t,e){return e.encode?e.strict?encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):encodeURIComponent(t):t}new RegExp(Et,"gi"),new RegExp("("+Et+")+","gi");var jt=function(t,e){!1===(e=It({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var n=function(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[kt(e,t),"[",r,"]"].join(""):[kt(e,t),"[",kt(r,t),"]=",kt(n,t)].join("")};case"bracket":return function(e,n){return null===n?kt(e,t):[kt(e,t),"[]=",kt(n,t)].join("")};default:return function(e,n){return null===n?kt(e,t):[kt(e,t),"=",kt(n,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map((function(r){var o=t[r];if(void 0===o)return"";if(null===o)return kt(r,e);if(Array.isArray(o)){var i=[];return o.slice().forEach((function(t){void 0!==t&&i.push(n(r,t,i.length))})),i.join("&")}return kt(r,e)+"="+kt(o,e)})).filter((function(t){return t.length>0})).join("&"):""},xt=function(t,e){this.url=t,this.data=e||{}};xt.prototype.send=function(t){if(window.XDomainRequest){var e=new window.XDomainRequest;e.open("POST",this.url,!0),e.onload=function(){t(200,e.responseText)},e.onerror=function(){"Request Entity Too Large"===e.responseText?t(413,e.responseText):t(500,e.responseText)},e.ontimeout=function(){},e.onprogress=function(){},e.send(jt(this.data))}else{var n=new XMLHttpRequest;n.open("POST",this.url,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.status,n.responseText)},n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.send(jt(this.data))}};var Pt=function(){this._price=null,this._productId=null,this._quantity=1,this._revenueType=null,this._properties=null};Pt.prototype.setProductId=function(t){return"string"!==Q(t)?J.error("Unsupported type for productId: "+Q(t)+", expecting string"):H(t)?J.error("Invalid empty productId"):this._productId=t,this},Pt.prototype.setQuantity=function(t){return"number"!==Q(t)?J.error("Unsupported type for quantity: "+Q(t)+", expecting number"):this._quantity=parseInt(t),this},Pt.prototype.setPrice=function(t){return"number"!==Q(t)?J.error("Unsupported type for price: "+Q(t)+", expecting number"):this._price=t,this},Pt.prototype.setRevenueType=function(t){return"string"!==Q(t)?J.error("Unsupported type for revenueType: "+Q(t)+", expecting string"):this._revenueType=t,this},Pt.prototype.setEventProperties=function(t){return"object"!==Q(t)?J.error("Unsupported type for eventProperties: "+Q(t)+", expecting object"):this._properties=tt(t),this},Pt.prototype._isValidRevenue=function(){return"number"===Q(this._price)||(J.error("Invalid revenue, need to set price field"),!1)},Pt.prototype._toJSONObject=function(){var t="object"===Q(this._properties)?this._properties:{};return null!==this._productId&&(t[S]=this._productId),null!==this._quantity&&(t[_]=this._quantity),null!==this._price&&(t[O]=this._price),null!==this._revenueType&&(t[I]=this._revenueType),t};var At,Rt=gt((function(t,e){!function(n,r){var o="function",i="object",s="model",a="name",u="type",c="vendor",l="version",p="architecture",f="console",d="mobile",h="tablet",v="smarttv",y="wearable",m={extend:function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2==0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:r},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},g={rgx:function(t,e){for(var n,s,a,u,c,l,p=0;p<e.length&&!c;){var f=e[p],d=e[p+1];for(n=s=0;n<f.length&&!c;)if(c=f[n++].exec(t))for(a=0;a<d.length;a++)l=c[++s],typeof(u=d[a])===i&&u.length>0?2==u.length?typeof u[1]==o?this[u[0]]=u[1].call(this,l):this[u[0]]=u[1]:3==u.length?typeof u[1]!==o||u[1].exec&&u[1].test?this[u[0]]=l?l.replace(u[1],u[2]):r:this[u[0]]=l?u[1].call(this,l,u[2]):r:4==u.length&&(this[u[0]]=l?u[3].call(this,l.replace(u[1],u[2])):r):this[u]=l||r;p+=2}},str:function(t,e){for(var n in e)if(typeof e[n]===i&&e[n].length>0){for(var o=0;o<e[n].length;o++)if(m.has(e[n][o],t))return"?"===n?r:n}else if(m.has(e[n],t))return"?"===n?r:n;return t}},b={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},name:{"Opera Mobile":"Opera Mobi","IE Mobile":"IEMobile"}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},name:{"Windows Phone":"Windows Phone OS"}}}},w={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,l],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[a,l],[/(konqueror)\/([\w\.]+)/i],[[a,"Konqueror"],l],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],l],[/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],l],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],l],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],l],[/(focus)\/([\w\.]+)/i],[[a,"Firefox Focus"],l],[/(opt)\/([\w\.]+)/i],[[a,"Opera Touch"],l],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],l],[/((?:android.+)crmo|crios)\/([\w\.]+)/i,/android.+(chrome)\/([\w\.]+)\s+(?:mobile\s?safari)/i],[[a,"Chrome Mobile"],l],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],l],[/(brave)\/([\w\.]+)/i],[[a,"Brave"],l],[/(qqbrowserlite)\/([\w\.]+)/i],[a,l],[/(QQ)\/([\d\.]+)/i],[a,l],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,l],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[a,l],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,l],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[l,[a,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[a,l],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[l,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],l],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],l],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[l,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,l],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],l],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],l],[/fxios\/([\w\.-]+)/i],[l,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[l,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[l,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[l,g.str,b.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[a,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,m.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[p,/ower/,"",m.lowerize]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[p,m.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[s,c,[u,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[c,"Apple"],[u,h]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[c,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,s,[u,h]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[s,[c,"Amazon"],[u,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[s,g.str,b.device.amazon.model],[c,"Amazon"],[u,d]],[/android.+aft([bms])\sbuild/i],[s,[c,"Amazon"],[u,v]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,c,[u,d]],[/\((ip[honed|\s\w*]+);/i],[s,[c,"Apple"],[u,d]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,s,[u,d]],[/\(bb10;\s(\w+)/i],[s,[c,"BlackBerry"],[u,d]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[s,[c,"Asus"],[u,h]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[s,"Xperia Tablet"],[u,h]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[c,"Sony"],[u,d]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,s,[u,f]],[/android.+;\s(shield)\sbuild/i],[s,[c,"Nvidia"],[u,f]],[/(playstation\s[34portablevi]+)/i],[s,[c,"Sony"],[u,f]],[/(sprint\s(\w+))/i],[[c,g.str,b.device.sprint.vendor],[s,g.str,b.device.sprint.model],[u,d]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[c,s,[u,h]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[c,[s,/_/g," "],[u,d]],[/(nexus\s9)/i],[s,[c,"HTC"],[u,h]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[s,[c,"Huawei"],[u,d]],[/(microsoft);\s(lumia[\s\w]+)/i],[c,s,[u,d]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[c,"Microsoft"],[u,f]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[c,"Microsoft"],[u,d]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[s,[c,"Motorola"],[u,d]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[c,"Motorola"],[u,h]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[c,m.trim],[s,m.trim],[u,v]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[c,"Samsung"],[u,v]],[/\(dtv[\);].+(aquos)/i],[s,[c,"Sharp"],[u,v]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],s,[u,h]],[/smart-tv.+(samsung)/i],[c,[u,v],s],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[c,"Samsung"],s,[u,d]],[/sie-(\w*)/i],[s,[c,"Siemens"],[u,d]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[c,"Nokia"],s,[u,d]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[s,[c,"Acer"],[u,h]],[/android.+([vl]k\-?\d{3})\s+build/i],[s,[c,"LG"],[u,h]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],s,[u,h]],[/(lg) netcast\.tv/i],[c,s,[u,v]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[s,[c,"LG"],[u,d]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[c,"Lenovo"],[u,h]],[/linux;.+((jolla));/i],[c,s,[u,d]],[/((pebble))app\/[\d\.]+\s/i],[c,s,[u,y]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[c,s,[u,d]],[/crkey/i],[[s,"Chromecast"],[c,"Google"]],[/android.+;\s(glass)\s\d/i],[s,[c,"Google"],[u,y]],[/android.+;\s(pixel c)[\s)]/i],[s,[c,"Google"],[u,h]],[/android.+;\s(pixel( [23])?( xl)?)\s/i],[s,[c,"Google"],[u,d]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[c,"Xiaomi"],[u,d]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[c,"Xiaomi"],[u,h]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[s,[c,"Meizu"],[u,h]],[/(mz)-([\w-]{2,})/i],[[c,"Meizu"],s,[u,d]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[s,[c,"OnePlus"],[u,d]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[s,[c,"RCA"],[u,h]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[s,[c,"Dell"],[u,h]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[s,[c,"Verizon"],[u,h]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[c,"Barnes & Noble"],s,[u,h]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[s,[c,"NuVision"],[u,h]],[/android.+;\s(k88)\sbuild/i],[s,[c,"ZTE"],[u,h]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[s,[c,"Swiss"],[u,d]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[s,[c,"Swiss"],[u,h]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[s,[c,"Zeki"],[u,h]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[c,"Dragon Touch"],s,[u,h]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[s,[c,"Insignia"],[u,h]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[s,[c,"NextBook"],[u,h]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[c,"Voice"],s,[u,d]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[c,"LvTel"],s,[u,d]],[/android.+;\s(PH-1)\s/i],[s,[c,"Essential"],[u,d]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[s,[c,"Envizen"],[u,h]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[c,s,[u,h]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[s,[c,"MachSpeed"],[u,h]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[c,s,[u,h]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[s,[c,"Rotor"],[u,h]],[/android.+(KS(.+))\s+build/i],[s,[c,"Amazon"],[u,h]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[c,s,[u,h]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,m.lowerize],c,s],[/[\s\/\(](smart-?tv)[;\)]/i],[[u,v]],[/(android[\w\.\s\-]{0,9});.+build/i],[s,[c,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[a,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,l],[/rv\:([\w\.]{1,9}).+(gecko)/i],[l,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[[a,g.str,b.os.windows.name],[l,g.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[l,g.str,b.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[a,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],l],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],l],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[[a,"Linux"],l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],l],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[[a,"Linux"],l],[/(iphone)(?:.*os\s*([\w]*)\slike\smac|;\sopera)/i],[[a,"iPhone"],[l,/_/g,"."]],[/(ipad)(?:.*os\s*([\w]*)\slike\smac|;\sopera)/i],[[a,"iPad"],[l,/_/g,"."]],[/(haiku)\s(\w+)/i],[a,l],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[l,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[a,l]]},S=function(t,e){if("object"==typeof t&&(e=t,t=r),!(this instanceof S))return new S(t,e).getResult();var o=t||(n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),i=e?m.extend(w,e):w;return this.getBrowser=function(){var t={name:r,version:r};return g.rgx.call(t,o,i.browser),t.major=m.major(t.version),t},this.getCPU=function(){var t={architecture:r};return g.rgx.call(t,o,i.cpu),t},this.getDevice=function(){var t={vendor:r,model:r,type:r};return g.rgx.call(t,o,i.device),t},this.getEngine=function(){var t={name:r,version:r};return g.rgx.call(t,o,i.engine),t},this.getOS=function(){var t={name:r,version:r};return g.rgx.call(t,o,i.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(t){return o=t,this},this};S.VERSION="0.7.19",S.BROWSER={NAME:a,MAJOR:"major",VERSION:l},S.CPU={ARCHITECTURE:p},S.DEVICE={MODEL:s,VENDOR:c,TYPE:u,CONSOLE:f,MOBILE:d,SMARTTV:v,TABLET:h,WEARABLE:y,EMBEDDED:"embedded"},S.ENGINE={NAME:a,VERSION:l},S.OS={NAME:a,VERSION:l},t.exports&&(e=t.exports=S),e.UAParser=S;var _=n&&(n.jQuery||n.Zepto);if(void 0!==_&&!_.ua){var O=new S;_.ua=O.getResult(),_.ua.get=function(){return O.getUA()},_.ua.set=function(t){O.setUA(t);var e=O.getResult();for(var n in e)_.ua[n]=e[n]}}}("object"==typeof window?window:mt)})),qt=(Rt.UAParser,function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}),Nt="5.11.0",Tt={apiEndpoint:"api.amplitude.com",batchEvents:!1,cookieExpiration:3650,cookieName:"amplitude_id",sameSiteCookie:"None",deviceIdFromUrlParam:!1,domain:"",eventUploadPeriodMillis:3e4,eventUploadThreshold:30,forceHttps:!0,includeGclid:!1,includeReferrer:!1,includeUtm:!1,language:navigator&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||void 0,logLevel:"WARN",optOut:!1,onError:function(){},platform:"Web",savedMaxCount:1e3,saveEvents:!0,saveParamsReferrerOncePerSession:!0,secureCookie:!1,sessionTimeout:18e5,trackingOptions:{city:!0,country:!0,carrier:!0,device_manufacturer:!0,device_model:!0,dma:!0,ip_address:!0,language:!0,os_name:!0,os_version:!0,platform:!0,region:!0,version_name:!0},unsetParamsReferrerOnNewSession:!1,unsentKey:"amplitude_unsent",unsentIdentifyKey:"amplitude_unsent_identify",uploadBatchSize:100},Ct=function(t){this._instanceName=H(t)?i:t.toLowerCase(),this._legacyStorageSuffix=this._instanceName===i?"":"_"+this._instanceName,this._unsentEvents=[],this._unsentIdentifys=[],this._ua=new Rt(navigator.userAgent).getResult(),this.options=o({},Tt,{trackingOptions:o({},Tt.trackingOptions)}),this.cookieStorage=(new ht).getStorage(),this._q=[],this._sending=!1,this._updateScheduled=!1,this._onInit=[],this._eventId=0,this._identifyId=0,this._lastEventTime=null,this._newSession=!1,this._sequenceNumber=0,this._sessionId=null,this._isInitialized=!1,this._userAgent=navigator&&navigator.userAgent||null};Ct.prototype.Identify=yt,Ct.prototype.Revenue=Pt,Ct.prototype.init=function(t,e,n,r){var o=this;if("string"!==Q(t)||H(t))J.error("Invalid apiKey. Please re-initialize with a valid apiKey");else try{this.options.apiKey=t,this._storageSuffix="_"+t+this._legacyStorageSuffix;var s=!!this.cookieStorage.get(this.options.cookieName+this._storageSuffix);if(n&&n.deferInitialization&&!s)return void this._deferInitialization(t,e,n,r);Qt(this.options,n),"string"===Q(this.options.logLevel)&&G(this.options.logLevel);var a=zt(this);this._apiPropertiesTrackingOptions=Object.keys(a).length>0?{tracking_options:a}:{},this.cookieStorage.options({expirationDays:this.options.cookieExpiration,domain:this.options.domain,secure:this.options.secureCookie,sameSite:this.options.sameSiteCookie}),this.options.domain=this.cookieStorage.options().domain,this._instanceName===i&&Dt(this),Mt(this),this._pendingReadStorage=!0;var u=function(t){o.options.deviceId="object"===Q(n)&&"string"===Q(n.deviceId)&&!H(n.deviceId)&&n.deviceId||o.options.deviceIdFromUrlParam&&o._getDeviceIdFromUrlParam(o._getUrlParams())||o.options.deviceId||t||qt()+"R",o.options.userId="string"===Q(e)&&!H(e)&&e||"number"===Q(e)&&e.toString()||o.options.userId||null;var r=(new Date).getTime();if((!o._sessionId||!o._lastEventTime||r-o._lastEventTime>o.options.sessionTimeout)&&(o.options.unsetParamsReferrerOnNewSession&&o._unsetUTMParams(),o._newSession=!0,o._sessionId=r,o.options.saveParamsReferrerOncePerSession&&o._trackParamsAndReferrer()),o.options.saveParamsReferrerOncePerSession||o._trackParamsAndReferrer(),o.options.saveEvents){for(var i=0;i<o._unsentEvents.length;i++){var s=o._unsentEvents[i].event_properties,a=o._unsentEvents[i].groups;o._unsentEvents[i].event_properties=tt(s),o._unsentEvents[i].groups=Y(a)}for(var u=0;u<o._unsentIdentifys.length;u++){var c=o._unsentIdentifys[u].user_properties,l=o._unsentIdentifys[u].groups;o._unsentIdentifys[u].user_properties=tt(c),o._unsentIdentifys[u].groups=Y(l)}}o._lastEventTime=r,Lt(o),o._pendingReadStorage=!1,o._sendEventsIfReady();for(var p=0;p<o._onInit.length;p++)o._onInit[p]();o._onInit=[],o._isInitialized=!0};this.options.saveEvents&&(this._unsentEvents=this._loadSavedUnsentEvents(this.options.unsentKey).concat(this._unsentEvents),this._unsentIdentifys=this._loadSavedUnsentEvents(this.options.unsentIdentifyKey).concat(this._unsentIdentifys)),u(),this.runQueuedFunctions(),"function"===Q(r)&&r(this)}catch(t){J.error(t),this.options.onError(t)}},Ct.prototype._migrateUnsentEvents=function(t){var e=this;Promise.all([At.getItem(this.options.unsentKey),At.getItem(this.options.unsentIdentifyKey)]).then((function(t){if(e.options.saveEvents){var n=t[0],r=t[1],o=[],i=[];n&&(o.push(At.setItem(e.options.unsentKey+e._storageSuffix,JSON.stringify(n))),i.push(At.removeItem(e.options.unsentKey))),r&&(o.push(At.setItem(e.options.unsentIdentifyKey+e._storageSuffix,JSON.stringify(r))),i.push(At.removeItem(e.options.unsentIdentifyKey))),o.length>0&&Promise.all(o).then((function(){})).catch((function(t){e.options.onError(t)}))}})).then(t).catch((function(t){e.options.onError(t)}))},Ct.prototype._trackParamsAndReferrer=function(){this.options.includeUtm&&this._initUtmData(),this.options.includeReferrer&&this._saveReferrer(this._getReferrer()),this.options.includeGclid&&this._saveGclid(this._getUrlParams())};var Qt=function t(e,n){if("object"===Q(n)){var r=function(r){if(e.hasOwnProperty(r)){var o=n[r],i=Q(e[r]);Z(o,r+" option",i)&&("boolean"===i?e[r]=!!o:"string"===i&&!H(o)||"number"===i&&o>0?e[r]=o:"object"===i&&t(e[r],o))}};for(var o in n)n.hasOwnProperty(o)&&r(o)}};Ct.prototype.runQueuedFunctions=function(){var t=this._q;this._q=[];for(var e=0;e<t.length;e++){var n=this[t[e][0]];"function"===Q(n)&&n.apply(this,t[e].slice(1))}},Ct.prototype._apiKeySet=function(t){return!H(this.options.apiKey)||(J.error("Invalid apiKey. Please set a valid apiKey with init() before calling "+t),!1)},Ct.prototype._loadSavedUnsentEvents=function(t){var e=this._getFromStorage(dt,t),n=this._parseSavedUnsentEventsString(e,t);return this._setInStorage(dt,t,JSON.stringify(n)),n},Ct.prototype._parseSavedUnsentEventsString=function(t,e){if(H(t))return[];if("string"===Q(t))try{var n=JSON.parse(t);if("array"===Q(n))return n}catch(t){}return J.error("Unable to load "+e+" events. Restart with a new empty queue."),[]},Ct.prototype.isNewSession=function(){return this._newSession},Ct.prototype.onInit=function(t){this._isInitialized?t():this._onInit.push(t)},Ct.prototype.getSessionId=function(){return this._sessionId},Ct.prototype.nextEventId=function(){return this._eventId++,this._eventId},Ct.prototype.nextIdentifyId=function(){return this._identifyId++,this._identifyId},Ct.prototype.nextSequenceNumber=function(){return this._sequenceNumber++,this._sequenceNumber},Ct.prototype._unsentCount=function(){return this._unsentEvents.length+this._unsentIdentifys.length},Ct.prototype._sendEventsIfReady=function(t){return 0!==this._unsentCount()&&(this.options.batchEvents?this._unsentCount()>=this.options.eventUploadThreshold?(this.sendEvents(t),!0):(this._updateScheduled||(this._updateScheduled=!0,setTimeout(function(){this._updateScheduled=!1,this.sendEvents()}.bind(this),this.options.eventUploadPeriodMillis)),!1):(this.sendEvents(t),!0))},Ct.prototype._getFromStorage=function(t,e){return t.getItem(e+this._storageSuffix)},Ct.prototype._setInStorage=function(t,e,n){t.setItem(e+this._storageSuffix,n)};var Dt=function(t){var e=t.cookieStorage.get(t.options.cookieName+t._storageSuffix);if("object"!==Q(e)&&!("object"===Q(e=t.cookieStorage.get(t.options.cookieName+t._legacyStorageSuffix))&&e.deviceId&&e.sessionId&&e.lastEventTime)){var n=function(t){var e=dt.getItem(t);return dt.removeItem(t),e},r="string"===Q(t.options.apiKey)&&"_"+t.options.apiKey.slice(0,6)||"",o=n(y+r),i=n(g+r),s=n(m+r);null!=s&&(s="true"===String(s));var a=parseInt(n(v)),u=parseInt(n(f)),c=parseInt(n(p)),l=parseInt(n(d)),b=parseInt(n(h)),w=function(t){return"object"===Q(e)&&e[t]};t.options.deviceId=w("deviceId")||o,t.options.userId=w("userId")||i,t._sessionId=w("sessionId")||a||t._sessionId,t._lastEventTime=w("lastEventTime")||u||t._lastEventTime,t._eventId=w("eventId")||c||t._eventId,t._identifyId=w("identifyId")||l||t._identifyId,t._sequenceNumber=w("sequenceNumber")||b||t._sequenceNumber,t.options.optOut=s||!1,e&&void 0!==e.optOut&&null!==e.optOut&&(t.options.optOut="true"===String(e.optOut)),Lt(t)}},Mt=function(t){var e=t.cookieStorage.get(t.options.cookieName+t._storageSuffix);if("object"===Q(e))Ft(t,e);else{var n=t.cookieStorage.get(t.options.cookieName+t._legacyStorageSuffix);"object"===Q(n)&&(t.cookieStorage.remove(t.options.cookieName+t._legacyStorageSuffix),Ft(t,n))}},Ft=function(t,e){e.deviceId&&(t.options.deviceId=e.deviceId),e.userId&&(t.options.userId=e.userId),null!==e.optOut&&void 0!==e.optOut&&!1!==e.optOut&&(t.options.optOut=e.optOut),e.sessionId&&(t._sessionId=parseInt(e.sessionId)),e.lastEventTime&&(t._lastEventTime=parseInt(e.lastEventTime)),e.eventId&&(t._eventId=parseInt(e.eventId)),e.identifyId&&(t._identifyId=parseInt(e.identifyId)),e.sequenceNumber&&(t._sequenceNumber=parseInt(e.sequenceNumber))},Lt=function(t){var e={deviceId:t.options.deviceId,userId:t.options.userId,optOut:t.options.optOut,sessionId:t._sessionId,lastEventTime:t._lastEventTime,eventId:t._eventId,identifyId:t._identifyId,sequenceNumber:t._sequenceNumber};t.cookieStorage.set(t.options.cookieName+t._storageSuffix,e)};Ct.prototype._initUtmData=function(t,e){t=t||this._getUrlParams(),e=e||this.cookieStorage.get("__utmz");var n,r,o,i,s,a,u,c,l,p,f,d=(r=t,o=(n=e)?"?"+n.split(".").slice(-1)[0].replace(/\|/g,"&"):"",s=(i=function(t,e,n,r){return $(t,e)||$(n,r)})(j,r,"utmcsr",o),a=i(x,r,"utmcmd",o),u=i(P,r,"utmccn",o),c=i(A,r,"utmctr",o),l=i(R,r,"utmcct",o),p={},(f=function(t,e){H(e)||(p[t]=e)})(j,s),f(x,a),f(P,u),f(A,c),f(R,l),p);Vt(this,d)},Ct.prototype._unsetUTMParams=function(){var t=new yt;t.unset(k),t.unset(j),t.unset(x),t.unset(P),t.unset(A),t.unset(R),this.identify(t)};var Vt=function(t,e){if("object"===Q(e)&&0!==Object.keys(e).length){var n=new yt;for(var r in e)e.hasOwnProperty(r)&&(n.setOnce("initial_"+r,e[r]),n.set(r,e[r]));t.identify(n)}};Ct.prototype._getReferrer=function(){return document.referrer},Ct.prototype._getUrlParams=function(){return location.search},Ct.prototype._saveGclid=function(t){var e=$("gclid",t);H(e)||Vt(this,{gclid:e})},Ct.prototype._getDeviceIdFromUrlParam=function(t){return $(E,t)},Ct.prototype._getReferringDomain=function(t){if(H(t))return null;var e=t.split("/");return e.length>=3?e[2]:null},Ct.prototype._saveReferrer=function(t){if(!H(t)){var e={referrer:t,referring_domain:this._getReferringDomain(t)};Vt(this,e)}},Ct.prototype.saveEvents=function(){try{this._setInStorage(dt,this.options.unsentKey,JSON.stringify(this._unsentEvents))}catch(t){}try{this._setInStorage(dt,this.options.unsentIdentifyKey,JSON.stringify(this._unsentIdentifys))}catch(t){}},Ct.prototype.setDomain=function(t){if(this._shouldDeferCall())return this._q.push(["setDomain"].concat(Array.prototype.slice.call(arguments,0)));if(Z(t,"domain","string"))try{this.cookieStorage.options({expirationDays:this.options.cookieExpiration,secure:this.options.secureCookie,domain:t,sameSite:this.options.sameSiteCookie}),this.options.domain=this.cookieStorage.options().domain,Mt(this),Lt(this)}catch(t){J.error(t)}},Ct.prototype.setUserId=function(t){if(this._shouldDeferCall())return this._q.push(["setUserId"].concat(Array.prototype.slice.call(arguments,0)));try{this.options.userId=null!=t&&""+t||null,Lt(this)}catch(t){J.error(t)}},Ct.prototype.setGroup=function(t,e){if(this._shouldDeferCall())return this._q.push(["setGroup"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("setGroup()")&&Z(t,"groupType","string")&&!H(t)){var n={};n[t]=e;var r=(new yt).set(t,e);this._logEvent(c,null,null,r.userPropertiesOperations,n,null,null,null)}},Ct.prototype.setOptOut=function(t){if(this._shouldDeferCall())return this._q.push(["setOptOut"].concat(Array.prototype.slice.call(arguments,0)));if(Z(t,"enable","boolean"))try{this.options.optOut=t,Lt(this)}catch(t){J.error(t)}},Ct.prototype.setSessionId=function(t){if(Z(t,"sessionId","number"))try{this._sessionId=t,Lt(this)}catch(t){J.error(t)}},Ct.prototype.resetSessionId=function(){this.setSessionId((new Date).getTime())},Ct.prototype.regenerateDeviceId=function(){if(this._shouldDeferCall())return this._q.push(["regenerateDeviceId"].concat(Array.prototype.slice.call(arguments,0)));this.setDeviceId(qt()+"R")},Ct.prototype.setDeviceId=function(t){if(this._shouldDeferCall())return this._q.push(["setDeviceId"].concat(Array.prototype.slice.call(arguments,0)));if(Z(t,"deviceId","string"))try{H(t)||(this.options.deviceId=""+t,Lt(this))}catch(t){J.error(t)}},Ct.prototype.setUserProperties=function(t){if(this._shouldDeferCall())return this._q.push(["setUserProperties"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("setUserProperties()")&&Z(t,"userProperties","object")){var e=X(tt(t));if(0!==Object.keys(e).length){var n=new yt;for(var r in e)e.hasOwnProperty(r)&&n.set(r,e[r]);this.identify(n)}}},Ct.prototype.clearUserProperties=function(){if(this._shouldDeferCall())return this._q.push(["clearUserProperties"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("clearUserProperties()")){var t=new yt;t.clearAll(),this.identify(t)}};var Bt=function(t,e){for(var n=0;n<e._q.length;n++){var r=t[e._q[n][0]];"function"===Q(r)&&r.apply(t,e._q[n].slice(1))}return t};Ct.prototype.identify=function(t,e){if(this._shouldDeferCall())return this._q.push(["identify"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("identify()"))if("object"===Q(t)&&t.hasOwnProperty("_q")&&(t=Bt(new yt,t)),t instanceof yt){if(Object.keys(t.userPropertiesOperations).length>0)return this._logEvent(c,null,null,t.userPropertiesOperations,null,null,null,e);"function"===Q(e)&&e(0,"No request sent",{reason:"No user property operations"})}else J.error("Invalid identify input type. Expected Identify object but saw "+Q(t)),"function"===Q(e)&&e(0,"No request sent",{reason:"Invalid identify input type"});else"function"===Q(e)&&e(0,"No request sent",{reason:"API key is not set"})},Ct.prototype.groupIdentify=function(t,e,n,o){if(this._shouldDeferCall())return this._q.push(["groupIdentify"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("groupIdentify()"))if(Z(t,"group_type","string")&&!H(t))if(null!=e)if("object"===Q(n)&&n.hasOwnProperty("_q")&&(n=Bt(new yt,n)),n instanceof yt){if(Object.keys(n.userPropertiesOperations).length>0)return this._logEvent(l,null,null,null,r({},t,e),n.userPropertiesOperations,null,o);"function"===Q(o)&&o(0,"No request sent",{reason:"No group property operations"})}else J.error("Invalid identify input type. Expected Identify object but saw "+Q(n)),"function"===Q(o)&&o(0,"No request sent",{reason:"Invalid identify input type"});else"function"===Q(o)&&o(0,"No request sent",{reason:"Invalid group name"});else"function"===Q(o)&&o(0,"No request sent",{reason:"Invalid group type"});else"function"===Q(o)&&o(0,"No request sent",{reason:"API key is not set"})},Ct.prototype.setVersionName=function(t){if(this._shouldDeferCall())return this._q.push(["setVersionName"].concat(Array.prototype.slice.call(arguments,0)));Z(t,"versionName","string")&&(this.options.versionName=t)},Ct.prototype._logEvent=function(t,e,n,r,i,s,a,u){if(Mt(this),t)if(this.options.optOut)"function"===Q(u)&&u(0,"No request sent",{reason:"optOut is set to true"});else try{var p;p=t===c||t===l?this.nextIdentifyId():this.nextEventId();var f=this.nextSequenceNumber(),d="number"===Q(a)?a:(new Date).getTime();(!this._sessionId||!this._lastEventTime||d-this._lastEventTime>this.options.sessionTimeout)&&(this._sessionId=d),this._lastEventTime=d,Lt(this);var h=this._ua.browser.name,v=this._ua.browser.major,y=this._ua.device.model,m=this._ua.device.vendor;r=r||{};var g=o({},this._apiPropertiesTrackingOptions);n=o({},n||{},g),e=e||{},i=i||{},s=s||{};var b={device_id:this.options.deviceId,user_id:this.options.userId,timestamp:d,event_id:p,session_id:this._sessionId||-1,event_type:t,version_name:Ut(this,"version_name")&&this.options.versionName||null,platform:Ut(this,"platform")?this.options.platform:null,os_name:Ut(this,"os_name")&&h||null,os_version:Ut(this,"os_version")&&v||null,device_model:Ut(this,"device_model")&&y||null,device_manufacturer:Ut(this,"device_manufacturer")&&m||null,language:Ut(this,"language")?this.options.language:null,carrier:(Ut(this,"carrier"),null),api_properties:n,event_properties:X(tt(e)),user_properties:X(tt(r)),uuid:qt(),library:{name:"amplitude-js",version:Nt},sequence_number:f,groups:X(Y(i)),group_properties:X(tt(s)),user_agent:this._userAgent};return t===c||t===l?(this._unsentIdentifys.push(b),this._limitEventsQueued(this._unsentIdentifys)):(this._unsentEvents.push(b),this._limitEventsQueued(this._unsentEvents)),this.options.saveEvents&&this.saveEvents(),this._sendEventsIfReady(u)||"function"!==Q(u)||u(0,"No request sent",{reason:"No events to send or upload queued"}),p}catch(t){J.error(t)}else"function"===Q(u)&&u(0,"No request sent",{reason:"Missing eventType"})};var Ut=function(t,e){return!!t.options.trackingOptions[e]},zt=function(t){for(var e=["city","country","dma","ip_address","region"],n={},r=0;r<e.length;r++){var o=e[r];Ut(t,o)||(n[o]=!1)}return n};Ct.prototype._limitEventsQueued=function(t){t.length>this.options.savedMaxCount&&t.splice(0,t.length-this.options.savedMaxCount)},Ct.prototype.logEvent=function(t,e,n){return this._shouldDeferCall()?this._q.push(["logEvent"].concat(Array.prototype.slice.call(arguments,0))):this.logEventWithTimestamp(t,e,null,n)},Ct.prototype.logEventWithTimestamp=function(t,e,n,r){return this._shouldDeferCall()?this._q.push(["logEventWithTimestamp"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logEvent()")?Z(t,"eventType","string")?H(t)?("function"===Q(r)&&r(0,"No request sent",{reason:"Missing eventType"}),-1):this._logEvent(t,e,null,null,null,null,n,r):("function"===Q(r)&&r(0,"No request sent",{reason:"Invalid type for eventType"}),-1):("function"===Q(r)&&r(0,"No request sent",{reason:"API key not set"}),-1)},Ct.prototype.logEventWithGroups=function(t,e,n,r){return this._shouldDeferCall()?this._q.push(["logEventWithGroups"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logEventWithGroups()")?Z(t,"eventType","string")?this._logEvent(t,e,null,null,n,null,null,r):("function"===Q(r)&&r(0,"No request sent",{reason:"Invalid type for eventType"}),-1):("function"===Q(r)&&r(0,"No request sent",{reason:"API key not set"}),-1)};var Kt=function(t){return!isNaN(parseFloat(t))&&isFinite(t)};Ct.prototype.logRevenueV2=function(t){if(this._shouldDeferCall())return this._q.push(["logRevenueV2"].concat(Array.prototype.slice.call(arguments,0)));if(this._apiKeySet("logRevenueV2()"))if("object"===Q(t)&&t.hasOwnProperty("_q")&&(t=Bt(new Pt,t)),t instanceof Pt){if(t&&t._isValidRevenue())return this.logEvent(w,t._toJSONObject())}else J.error("Invalid revenue input type. Expected Revenue object but saw "+Q(t))},Ct.prototype.logRevenue=function(t,e,n){return this._shouldDeferCall()?this._q.push(["logRevenue"].concat(Array.prototype.slice.call(arguments,0))):this._apiKeySet("logRevenue()")&&Kt(t)&&(void 0===e||Kt(e))?this._logEvent(w,{},{productId:n,special:"revenue_amount",quantity:e||1,price:t},null,null,null,null,null):-1},Ct.prototype.removeEvents=function(t,e){Wt(this,"_unsentEvents",t),Wt(this,"_unsentIdentifys",e)};var Wt=function(t,e,n){if(!(n<0)){for(var r=[],o=0;o<t[e].length;o++)t[e][o].event_id>n&&r.push(t[e][o]);t[e]=r}};Ct.prototype.sendEvents=function(t){if(this._apiKeySet("sendEvents()"))if(this.options.optOut)"function"===Q(t)&&t(0,"No request sent",{reason:"optOut is set to true"});else if(0!==this._unsentCount())if(this._sending)"function"===Q(t)&&t(0,"No request sent",{reason:"Request already in progress. Events will be sent once this request is complete"});else{this._sending=!0;var e=(this.options.forceHttps||"https:"===window.location.protocol?"https":"http")+"://"+this.options.apiEndpoint,n=Math.min(this._unsentCount(),this.options.uploadBatchSize),r=this._mergeEventsAndIdentifys(n),o=r.maxEventId,i=r.maxIdentifyId,a=JSON.stringify(r.eventsToSend),u=(new Date).getTime(),c={client:this.options.apiKey,e:a,v:s,upload_time:u,checksum:bt(s+this.options.apiKey+a+u)},l=this;new xt(e,c).send((function(e,r){l._sending=!1;try{200===e&&"success"===r?(l.removeEvents(o,i),l.options.saveEvents&&l.saveEvents(),l._sendEventsIfReady(t)||"function"!==Q(t)||t(e,r)):413===e?(1===l.options.uploadBatchSize&&l.removeEvents(o,i),l.options.uploadBatchSize=Math.ceil(n/2),l.sendEvents(t)):"function"===Q(t)&&t(e,r)}catch(t){}}))}else"function"===Q(t)&&t(0,"No request sent",{reason:"No events to send"});else"function"===Q(t)&&t(0,"No request sent",{reason:"API key not set"})},Ct.prototype._mergeEventsAndIdentifys=function(t){for(var e=[],n=0,r=-1,o=0,i=-1;e.length<t;){var s,a=o>=this._unsentIdentifys.length,u=n>=this._unsentEvents.length;if(u&&a){J.error("Merging Events and Identifys, less events and identifys than expected");break}a?r=(s=this._unsentEvents[n++]).event_id:u?i=(s=this._unsentIdentifys[o++]).event_id:!("sequence_number"in this._unsentEvents[n])||this._unsentEvents[n].sequence_number<this._unsentIdentifys[o].sequence_number?r=(s=this._unsentEvents[n++]).event_id:i=(s=this._unsentIdentifys[o++]).event_id,e.push(s)}return{eventsToSend:e,maxEventId:r,maxIdentifyId:i}},Ct.prototype.setGlobalUserProperties=function(t){this.setUserProperties(t)},Ct.prototype.__VERSION__=Nt,Ct.prototype._shouldDeferCall=function(){return this._pendingReadStorage||this._initializationDeferred},Ct.prototype._deferInitialization=function(){this._initializationDeferred=!0,this._q.push(["init"].concat(Array.prototype.slice.call(arguments,0)))},Ct.prototype.enableTracking=function(){this._initializationDeferred=!1,Lt(this),this.runQueuedFunctions()};var Gt=function(){this.options=o({},Tt),this._q=[],this._instances={}};Gt.prototype.Identify=yt,Gt.prototype.Revenue=Pt,Gt.prototype.getInstance=function(t){t=H(t)?i:t.toLowerCase();var e=this._instances[t];return void 0===e&&(e=new Ct(t),this._instances[t]=e),e},Gt.prototype.runQueuedFunctions=function(){for(var t=0;t<this._q.length;t++){var e=this[this._q[t][0]];"function"===Q(e)&&e.apply(this,this._q[t].slice(1))}for(var n in this._q=[],this._instances)this._instances.hasOwnProperty(n)&&this._instances[n].runQueuedFunctions()},Gt.prototype.init=function(t,e,n,r){this.getInstance().init(t,e,n,function(t){this.options=t.options,"function"===Q(r)&&r(t)}.bind(this))},Gt.prototype.isNewSession=function(){return this.getInstance().isNewSession()},Gt.prototype.getSessionId=function(){return this.getInstance().getSessionId()},Gt.prototype.nextEventId=function(){return this.getInstance().nextEventId()},Gt.prototype.nextIdentifyId=function(){return this.getInstance().nextIdentifyId()},Gt.prototype.nextSequenceNumber=function(){return this.getInstance().nextSequenceNumber()},Gt.prototype.saveEvents=function(){this.getInstance().saveEvents()},Gt.prototype.setDomain=function(t){this.getInstance().setDomain(t)},Gt.prototype.setUserId=function(t){this.getInstance().setUserId(t)},Gt.prototype.setGroup=function(t,e){this.getInstance().setGroup(t,e)},Gt.prototype.setOptOut=function(t){this.getInstance().setOptOut(t)},Gt.prototype.regenerateDeviceId=function(){this.getInstance().regenerateDeviceId()},Gt.prototype.setDeviceId=function(t){this.getInstance().setDeviceId(t)},Gt.prototype.setUserProperties=function(t){this.getInstance().setUserProperties(t)},Gt.prototype.clearUserProperties=function(){this.getInstance().clearUserProperties()},Gt.prototype.identify=function(t,e){this.getInstance().identify(t,e)},Gt.prototype.setVersionName=function(t){this.getInstance().setVersionName(t)},Gt.prototype.logEvent=function(t,e,n){return this.getInstance().logEvent(t,e,n)},Gt.prototype.logEventWithGroups=function(t,e,n,r){return this.getInstance().logEventWithGroups(t,e,n,r)},Gt.prototype.logRevenueV2=function(t){return this.getInstance().logRevenueV2(t)},Gt.prototype.logRevenue=function(t,e,n){return this.getInstance().logRevenue(t,e,n)},Gt.prototype.removeEvents=function(t,e){this.getInstance().removeEvents(t,e)},Gt.prototype.sendEvents=function(t){this.getInstance().sendEvents(t)},Gt.prototype.setGlobalUserProperties=function(t){this.getInstance().setUserProperties(t)},Gt.prototype.__VERSION__=Nt;var Jt=window.amplitude||{},Ht=new Gt;for(var $t in Ht._q=Jt._q||[],Jt._iq)Jt._iq.hasOwnProperty($t)&&(Ht.getInstance($t)._q=Jt._iq[$t]._q||[]);return Ht.runQueuedFunctions(),Ht},t.exports=r()}).call(this,n(1272).Buffer,n(66))},135:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},136:function(t,e,n){"use strict";e.__esModule=!0;var r=s(n(2658)),o=s(n(2662)),i=s(n(813));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,i.default)(e)));t.prototype=(0,o.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},1379:function(t,e,n){var r=n(2631);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},138:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}},1380:function(t,e,n){t.exports=!n(456)&&!n(635)((function(){return 7!=Object.defineProperty(n(1381)("div"),"a",{get:function(){return 7}}).a}))},1381:function(t,e,n){var r=n(532),o=n(379).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},1382:function(t,e,n){var r=n(457),o=n(533),i=n(2633)(!1),s=n(981)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~i(c,n)||c.push(n));return c}},1383:function(t,e,n){var r=n(1384);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},1384:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},1385:function(t,e,n){var r=n(979);t.exports=function(t){return Object(r(t))}},1386:function(t,e,n){"use strict";var r=n(746),o=n(530),i=n(1387),s=n(531),a=n(985),u=n(2640),c=n(987),l=n(2643),p=n(534)("iterator"),f=!([].keys&&"next"in[].keys()),d="keys",h="values",v=function(){return this};t.exports=function(t,e,n,y,m,g,b){u(n,e,y);var w,S,_,O=function(t){if(!f&&t in j)return j[t];switch(t){case d:case h:return function(){return new n(this,t)}}return function(){return new n(this,t)}},I=e+" Iterator",E=m==h,k=!1,j=t.prototype,x=j[p]||j["@@iterator"]||m&&j[m],P=x||O(m),A=m?E?O("entries"):P:void 0,R="Array"==e&&j.entries||x;if(R&&(_=l(R.call(new t)))!==Object.prototype&&_.next&&(c(_,I,!0),r||"function"==typeof _[p]||s(_,p,v)),E&&x&&x.name!==h&&(k=!0,P=function(){return x.call(this)}),r&&!b||!f&&!k&&j[p]||s(j,p,P),a[e]=P,a[I]=v,m)if(w={values:E?P:O(h),keys:g?P:O(d),entries:A},b)for(S in w)S in j||i(j,S,w[S]);else o(o.P+o.F*(f||k),e,w);return w}},1387:function(t,e,n){t.exports=n(531)},1388:function(t,e,n){var r=n(1382),o=n(983).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},1389:function(t,e,n){var r=n(748),o=n(744),i=n(533),s=n(978),a=n(457),u=n(1380),c=Object.getOwnPropertyDescriptor;e.f=n(456)?c:function(t,e){if(t=i(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},1390:function(t,e,n){t.exports={default:n(2667),__esModule:!0}},1740:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r){function o(e){var r=new i.default(e);n.call(t,r)}if(t.addEventListener){var s=(a=!1,"object"==typeof r?a=r.capture||!1:"boolean"==typeof r&&(a=r),t.addEventListener(e,o,r||!1),{v:{remove:function(){t.removeEventListener(e,o,a)}}});if("object"==typeof s)return s.v}else if(t.attachEvent)return t.attachEvent("on"+e,o),{remove:function(){t.detachEvent("on"+e,o)}};var a};var r,o=n(2665),i=(r=o)&&r.__esModule?r:{default:r};t.exports=e.default},1741:function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(1390),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(t,e,n){return e in t?(0,i.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},188:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function o(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}},232:function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(2628),i=(r=o)&&r.__esModule?r:{default:r};e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},2456:function(t,e,n){"use strict";t.exports=function(t){if(t)throw t}},259:function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return h}));var r=n(186),o=n(19),i=n(138),s=n(816);!function(t){function e(e,n){var r=t.call(this,e)||this;return r.link=n,r}Object(i.b)(e,t)}(Error);function a(t){return t.request.length<=1}function u(t){return new r.a((function(e){e.error(t)}))}function c(t,e){var n=Object(i.a)({},t);return Object.defineProperty(e,"setContext",{enumerable:!1,value:function(t){n="function"==typeof t?Object(i.a)({},n,t(n)):Object(i.a)({},n,t)}}),Object.defineProperty(e,"getContext",{enumerable:!1,value:function(){return Object(i.a)({},n)}}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return function(t){var e=t.query,n=t.variables,r=t.operationName;return JSON.stringify([r,e,n])}(e)}}),e}function l(t,e){return e?e(t):r.a.of()}function p(t){return"function"==typeof t?new y(t):t}function f(){return new y((function(){return r.a.of()}))}function d(t){return 0===t.length?f():t.map(p).reduce((function(t,e){return t.concat(e)}))}function h(t,e,n){var o=p(e),i=p(n||new y(l));return a(o)&&a(i)?new y((function(e){return t(e)?o.request(e)||r.a.of():i.request(e)||r.a.of()})):new y((function(e,n){return t(e)?o.request(e,n)||r.a.of():i.request(e,n)||r.a.of()}))}var v=function(t,e){var n=p(t);if(a(n))return n;var o=p(e);return a(o)?new y((function(t){return n.request(t,(function(t){return o.request(t)||r.a.of()}))||r.a.of()})):new y((function(t,e){return n.request(t,(function(t){return o.request(t,e)||r.a.of()}))||r.a.of()}))},y=function(){function t(t){t&&(this.request=t)}return t.prototype.split=function(e,n,r){return this.concat(h(e,n,r||new t(l)))},t.prototype.concat=function(t){return v(this,t)},t.prototype.request=function(t,e){throw new o.a(1)},t.empty=f,t.from=d,t.split=h,t.execute=m,t}();function m(t,e){return t.request(c(e.context,function(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName="string"!=typeof e.query?Object(s.a)(e.query):""),e}(function(t){for(var e=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(e.indexOf(i)<0)throw new o.a(2)}return t}(e))))||r.a.of()}},2628:function(t,e,n){t.exports={default:n(2629),__esModule:!0}},2629:function(t,e,n){n(2630),t.exports=n(380).Object.assign},2630:function(t,e,n){var r=n(530);r(r.S+r.F,"Object",{assign:n(2632)})},2631:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},2632:function(t,e,n){"use strict";var r=n(745),o=n(984),i=n(748),s=n(1385),a=n(1383),u=Object.assign;t.exports=!u||n(635)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r}))?function(t,e){for(var n=s(t),u=arguments.length,c=1,l=o.f,p=i.f;u>c;)for(var f,d=a(arguments[c++]),h=l?r(d).concat(l(d)):r(d),v=h.length,y=0;v>y;)p.call(d,f=h[y++])&&(n[f]=d[f]);return n}:u},2633:function(t,e,n){var r=n(533),o=n(2634),i=n(2635);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=o(u.length),l=i(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},2634:function(t,e,n){var r=n(980),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},2635:function(t,e,n){var r=n(980),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},2636:function(t,e,n){t.exports={default:n(2637),__esModule:!0}},2637:function(t,e,n){n(2638),n(2644),t.exports=n(988).f("iterator")},2638:function(t,e,n){"use strict";var r=n(2639)(!0);n(1386)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},2639:function(t,e,n){var r=n(980),o=n(979);t.exports=function(t){return function(e,n){var i,s,a=String(o(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(i=a.charCodeAt(u))<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):i:t?a.slice(u,u+2):s-56320+(i-55296<<10)+65536}}},2640:function(t,e,n){"use strict";var r=n(986),o=n(744),i=n(987),s={};n(531)(s,n(534)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:o(1,n)}),i(t,e+" Iterator")}},2641:function(t,e,n){var r=n(455),o=n(634),i=n(745);t.exports=n(456)?Object.defineProperties:function(t,e){o(t);for(var n,s=i(e),a=s.length,u=0;a>u;)r.f(t,n=s[u++],e[n]);return t}},2642:function(t,e,n){var r=n(379).document;t.exports=r&&r.documentElement},2643:function(t,e,n){var r=n(457),o=n(1385),i=n(981)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},2644:function(t,e,n){n(2645);for(var r=n(379),o=n(531),i=n(985),s=n(534)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],l=r[c],p=l&&l.prototype;p&&!p[s]&&o(p,s,c),i[c]=i.Array}},2645:function(t,e,n){"use strict";var r=n(2646),o=n(2647),i=n(985),s=n(533);t.exports=n(1386)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},2646:function(t,e){t.exports=function(){}},2647:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},2648:function(t,e,n){t.exports={default:n(2649),__esModule:!0}},2649:function(t,e,n){n(2650),n(2655),n(2656),n(2657),t.exports=n(380).Symbol},2650:function(t,e,n){"use strict";var r=n(379),o=n(457),i=n(456),s=n(530),a=n(1387),u=n(2651).KEY,c=n(635),l=n(982),p=n(987),f=n(747),d=n(534),h=n(988),v=n(989),y=n(2652),m=n(2653),g=n(634),b=n(532),w=n(533),S=n(978),_=n(744),O=n(986),I=n(2654),E=n(1389),k=n(455),j=n(745),x=E.f,P=k.f,A=I.f,R=r.Symbol,q=r.JSON,N=q&&q.stringify,T=d("_hidden"),C=d("toPrimitive"),Q={}.propertyIsEnumerable,D=l("symbol-registry"),M=l("symbols"),F=l("op-symbols"),L=Object.prototype,V="function"==typeof R,B=r.QObject,U=!B||!B.prototype||!B.prototype.findChild,z=i&&c((function(){return 7!=O(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=x(L,e);r&&delete L[e],P(t,e,n),r&&t!==L&&P(L,e,r)}:P,K=function(t){var e=M[t]=O(R.prototype);return e._k=t,e},W=V&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},G=function(t,e,n){return t===L&&G(F,e,n),g(t),e=S(e,!0),g(n),o(M,e)?(n.enumerable?(o(t,T)&&t[T][e]&&(t[T][e]=!1),n=O(n,{enumerable:_(0,!1)})):(o(t,T)||P(t,T,_(1,{})),t[T][e]=!0),z(t,e,n)):P(t,e,n)},J=function(t,e){g(t);for(var n,r=y(e=w(e)),o=0,i=r.length;i>o;)G(t,n=r[o++],e[n]);return t},H=function(t){var e=Q.call(this,t=S(t,!0));return!(this===L&&o(M,t)&&!o(F,t))&&(!(e||!o(this,t)||!o(M,t)||o(this,T)&&this[T][t])||e)},$=function(t,e){if(t=w(t),e=S(e,!0),t!==L||!o(M,e)||o(F,e)){var n=x(t,e);return!n||!o(M,e)||o(t,T)&&t[T][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=A(w(t)),r=[],i=0;n.length>i;)o(M,e=n[i++])||e==T||e==u||r.push(e);return r},Y=function(t){for(var e,n=t===L,r=A(n?F:w(t)),i=[],s=0;r.length>s;)!o(M,e=r[s++])||n&&!o(L,e)||i.push(M[e]);return i};V||(a((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===L&&e.call(F,n),o(this,T)&&o(this[T],t)&&(this[T][t]=!1),z(this,t,_(1,n))};return i&&U&&z(L,t,{configurable:!0,set:e}),K(t)}).prototype,"toString",(function(){return this._k})),E.f=$,k.f=G,n(1388).f=I.f=X,n(748).f=H,n(984).f=Y,i&&!n(746)&&a(L,"propertyIsEnumerable",H,!0),h.f=function(t){return K(d(t))}),s(s.G+s.W+s.F*!V,{Symbol:R});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)d(Z[tt++]);for(var et=j(d.store),nt=0;et.length>nt;)v(et[nt++]);s(s.S+s.F*!V,"Symbol",{for:function(t){return o(D,t+="")?D[t]:D[t]=R(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in D)if(D[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),s(s.S+s.F*!V,"Object",{create:function(t,e){return void 0===e?O(t):J(O(t),e)},defineProperty:G,defineProperties:J,getOwnPropertyDescriptor:$,getOwnPropertyNames:X,getOwnPropertySymbols:Y}),q&&s(s.S+s.F*(!V||c((function(){var t=R();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(b(e)||void 0!==t)&&!W(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,N.apply(q,r)}}),R.prototype[C]||n(531)(R.prototype,C,R.prototype.valueOf),p(R,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},2651:function(t,e,n){var r=n(747)("meta"),o=n(532),i=n(457),s=n(455).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(635)((function(){return u(Object.preventExtensions({}))})),l=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},p=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&p.NEED&&u(t)&&!i(t,r)&&l(t),t}}},2652:function(t,e,n){var r=n(745),o=n(984),i=n(748);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var s,a=n(t),u=i.f,c=0;a.length>c;)u.call(t,s=a[c++])&&e.push(s);return e}},2653:function(t,e,n){var r=n(1384);t.exports=Array.isArray||function(t){return"Array"==r(t)}},2654:function(t,e,n){var r=n(533),o=n(1388).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return s.slice()}}(t):o(r(t))}},2655:function(t,e){},2656:function(t,e,n){n(989)("asyncIterator")},2657:function(t,e,n){n(989)("observable")},2658:function(t,e,n){t.exports={default:n(2659),__esModule:!0}},2659:function(t,e,n){n(2660),t.exports=n(380).Object.setPrototypeOf},2660:function(t,e,n){var r=n(530);r(r.S,"Object",{setPrototypeOf:n(2661).set})},2661:function(t,e,n){var r=n(532),o=n(634),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(1379)(Function.call,n(1389).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},2662:function(t,e,n){t.exports={default:n(2663),__esModule:!0}},2663:function(t,e,n){n(2664);var r=n(380).Object;t.exports=function(t,e){return r.create(t,e)}},2664:function(t,e,n){var r=n(530);r(r.S,"Object",{create:n(986)})},2665:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(2666)),i=r(n(179)),s=!1,a=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"];function u(t){return null==t}var c=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(t,e){u(t.which)&&(t.which=u(e.charCode)?e.keyCode:e.charCode),void 0===t.metaKey&&(t.metaKey=t.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(t,e){var n=void 0,r=void 0,o=void 0,i=e.wheelDelta,s=e.axis,a=e.wheelDeltaY,u=e.wheelDeltaX,c=e.detail;i&&(o=i/120),c&&(o=0-(c%3==0?c/3:c)),void 0!==s&&(s===t.HORIZONTAL_AXIS?(r=0,n=0-o):s===t.VERTICAL_AXIS&&(n=0,r=o)),void 0!==a&&(r=a/120),void 0!==u&&(n=-1*u/120),n||r||(r=o),void 0!==n&&(t.deltaX=n),void 0!==r&&(t.deltaY=r),void 0!==o&&(t.delta=o)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(t,e){var n=void 0,r=void 0,o=void 0,i=t.target,s=e.button;return i&&u(t.pageX)&&!u(e.clientX)&&(r=(n=i.ownerDocument||document).documentElement,o=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),!t.relatedTarget&&t.fromElement&&(t.relatedTarget=t.fromElement===i?t.toElement:t.fromElement),t}}];function l(){return true}function p(){return s}function f(t){var e=t.type,n="function"==typeof t.stopPropagation||"boolean"==typeof t.cancelBubble;o.default.call(this),this.nativeEvent=t;var r=p;"defaultPrevented"in t?r=t.defaultPrevented?l:p:"getPreventDefault"in t?r=t.getPreventDefault()?l:p:"returnValue"in t&&(r=t.returnValue===s?l:p),this.isDefaultPrevented=r;var i=[],u=void 0,f=void 0,d=a.concat();for(c.forEach((function(t){e.match(t.reg)&&(d=d.concat(t.props),t.fix&&i.push(t.fix))})),u=d.length;u;)this[f=d[--u]]=t[f];for(!this.target&&n&&(this.target=t.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),u=i.length;u;)(0,i[--u])(this,t);this.timeStamp=t.timeStamp||Date.now()}var d=o.default.prototype;(0,i.default)(f.prototype,d,{constructor:f,preventDefault:function(){var t=this.nativeEvent;t.preventDefault?t.preventDefault():t.returnValue=s,d.preventDefault.call(this)},stopPropagation:function(){var t=this.nativeEvent;t.stopPropagation?t.stopPropagation():t.cancelBubble=true,d.stopPropagation.call(this)}}),e.default=f,t.exports=e.default},2666:function(t,e,n){"use strict";function r(){return!1}function o(){return!0}function i(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(e,"__esModule",{value:!0}),i.prototype={isEventObject:1,constructor:i,isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r,preventDefault:function(){this.isDefaultPrevented=o},stopPropagation:function(){this.isPropagationStopped=o},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},halt:function(t){t?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},e.default=i,t.exports=e.default},2667:function(t,e,n){n(2668);var r=n(380).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},2668:function(t,e,n){var r=n(530);r(r.S+r.F*!n(456),"Object",{defineProperty:n(455).f})},28:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return L})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return E})),n.d(e,"d",(function(){return z})),n.d(e,"e",(function(){return W})),n.d(e,"f",(function(){return J})),n.d(e,"g",(function(){return q})),n.d(e,"h",(function(){return N})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return P})),n.d(e,"k",(function(){return I})),n.d(e,"l",(function(){return R})),n.d(e,"m",(function(){return j})),n.d(e,"n",(function(){return x})),n.d(e,"o",(function(){return A})),n.d(e,"p",(function(){return p})),n.d(e,"q",(function(){return tt})),n.d(e,"r",(function(){return _})),n.d(e,"s",(function(){return S})),n.d(e,"t",(function(){return h})),n.d(e,"u",(function(){return y})),n.d(e,"v",(function(){return v})),n.d(e,"w",(function(){return g})),n.d(e,"x",(function(){return X})),n.d(e,"y",(function(){return Y})),n.d(e,"z",(function(){return nt})),n.d(e,"A",(function(){return ot})),n.d(e,"B",(function(){return it})),n.d(e,"C",(function(){return K})),n.d(e,"D",(function(){return B})),n.d(e,"E",(function(){return d})),n.d(e,"F",(function(){return w})),n.d(e,"G",(function(){return c})),n.d(e,"H",(function(){return m})),n.d(e,"I",(function(){return Z}));var r=n(131),o=n(19),i=n(188),s=n(570),a=n.n(s);n(184);function u(t,e,n,r){if(function(t){return"IntValue"===t.kind}(n)||function(t){return"FloatValue"===t.kind}(n))t[e.value]=Number(n.value);else if(function(t){return"BooleanValue"===t.kind}(n)||function(t){return"StringValue"===t.kind}(n))t[e.value]=n.value;else if(function(t){return"ObjectValue"===t.kind}(n)){var i={};n.fields.map((function(t){return u(i,t.name,t.value,r)})),t[e.value]=i}else if(function(t){return"Variable"===t.kind}(n)){var s=(r||{})[n.name.value];t[e.value]=s}else if(function(t){return"ListValue"===t.kind}(n))t[e.value]=n.values.map((function(t){var n={};return u(n,e,t,r),n[e.value]}));else if(function(t){return"EnumValue"===t.kind}(n))t[e.value]=n.value;else{if(!function(t){return"NullValue"===t.kind}(n))throw new o.a(17);t[e.value]=null}}function c(t,e){var n=null;t.directives&&(n={},t.directives.forEach((function(t){n[t.name.value]={},t.arguments&&t.arguments.forEach((function(r){var o=r.name,i=r.value;return u(n[t.name.value],o,i,e)}))})));var r=null;return t.arguments&&t.arguments.length&&(r={},t.arguments.forEach((function(t){var n=t.name,o=t.value;return u(r,n,o,e)}))),p(t.name.value,r,n)}var l=["connection","include","skip","client","rest","export"];function p(t,e,n){if(n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o=e,i={};return r.forEach((function(t){i[t]=o[t]})),n.connection.key+"("+JSON.stringify(i)+")"}return n.connection.key}var s=t;if(e){var u=a()(e);s+="("+u+")"}return n&&Object.keys(n).forEach((function(t){-1===l.indexOf(t)&&(n[t]&&Object.keys(n[t]).length?s+="@"+t+"("+JSON.stringify(n[t])+")":s+="@"+t)})),s}function f(t,e){if(t.arguments&&t.arguments.length){var n={};return t.arguments.forEach((function(t){var r=t.name,o=t.value;return u(n,r,o,e)})),n}return null}function d(t){return t.alias?t.alias.value:t.name.value}function h(t){return"Field"===t.kind}function v(t){return"InlineFragment"===t.kind}function y(t){return t&&"id"===t.type&&"boolean"==typeof t.generated}function m(t,e){return void 0===e&&(e=!1),Object(i.a)({type:"id",generated:e},"string"==typeof t?{id:t,typename:void 0}:t)}function g(t){return null!=t&&"object"==typeof t&&"json"===t.type}function b(t,e){if(t.directives&&t.directives.length){var n={};return t.directives.forEach((function(t){n[t.name.value]=f(t,e)})),n}return null}function w(t,e){return void 0===e&&(e={}),(n=t.directives,n?n.filter(O).map((function(t){var e=t.arguments;t.name.value,Object(o.b)(e&&1===e.length,14);var n=e[0];Object(o.b)(n.name&&"if"===n.name.value,15);var r=n.value;return Object(o.b)(r&&("Variable"===r.kind||"BooleanValue"===r.kind),16),{directive:t,ifArgument:n}})):[]).every((function(t){var n=t.directive,r=t.ifArgument,i=!1;return"Variable"===r.value.kind?(i=e[r.value.name.value],Object(o.b)(void 0!==i,13)):i=r.value.value,"skip"===n.name.value?!i:i}));var n}function S(t,e){return function(t){var e=[];return Object(r.b)(t,{Directive:function(t){e.push(t.name.value)}}),e}(e).some((function(e){return t.indexOf(e)>-1}))}function _(t){return t&&S(["client"],t)&&S(["export"],t)}function O(t){var e=t.name.value;return"skip"===e||"include"===e}function I(t,e){var n=e,r=[];return t.definitions.forEach((function(t){if("OperationDefinition"===t.kind)throw new o.a(11);"FragmentDefinition"===t.kind&&r.push(t)})),void 0===n&&(Object(o.b)(1===r.length,12),n=r[0].name.value),Object(i.a)(Object(i.a)({},t),{definitions:Object(i.b)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],t.definitions)})}function E(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach((function(e){null!=e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function k(t){Object(o.b)(t&&"Document"===t.kind,2);var e=t.definitions.filter((function(t){return"FragmentDefinition"!==t.kind})).map((function(t){if("OperationDefinition"!==t.kind)throw new o.a(3);return t}));return Object(o.b)(e.length<=1,4),t}function j(t){return k(t),t.definitions.filter((function(t){return"OperationDefinition"===t.kind}))[0]}function x(t){return t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&t.name})).map((function(t){return t.name.value}))[0]||null}function P(t){return t.definitions.filter((function(t){return"FragmentDefinition"===t.kind}))}function A(t){var e=j(t);return Object(o.b)(e&&"query"===e.operation,6),e}function R(t){var e;k(t);for(var n=0,r=t.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var s=i.operation;if("query"===s||"mutation"===s||"subscription"===s)return i}"FragmentDefinition"!==i.kind||e||(e=i)}if(e)return e;throw new o.a(10)}function q(t){void 0===t&&(t=[]);var e={};return t.forEach((function(t){e[t.name.value]=t})),e}function N(t){if(t&&t.variableDefinitions&&t.variableDefinitions.length){var e=t.variableDefinitions.filter((function(t){return t.defaultValue})).map((function(t){var e=t.variable,n=t.defaultValue,r={};return u(r,e.name,n),r}));return E.apply(void 0,Object(i.b)([{}],e))}return{}}function T(t,e,n){var r=0;return t.forEach((function(n,o){e.call(this,n,o,t)&&(t[r++]=n)}),n),t.length=r,t}var C={kind:"Field",name:{kind:"Name",value:"__typename"}};function Q(t,e){return t.selectionSet.selections.every((function(t){return"FragmentSpread"===t.kind&&Q(e[t.name.value],e)}))}function D(t){return Q(j(t)||function(t){Object(o.b)("Document"===t.kind,7),Object(o.b)(t.definitions.length<=1,8);var e=t.definitions[0];return Object(o.b)("FragmentDefinition"===e.kind,9),e}(t),q(P(t)))?null:t}function M(t){return function(e){return t.some((function(t){return t.name&&t.name===e.name.value||t.test&&t.test(e)}))}}function F(t,e){var n=Object.create(null),o=[],s=Object.create(null),a=[],u=D(Object(r.b)(e,{Variable:{enter:function(t,e,r){"VariableDefinition"!==r.kind&&(n[t.name.value]=!0)}},Field:{enter:function(e){if(t&&e.directives&&(t.some((function(t){return t.remove}))&&e.directives&&e.directives.some(M(t))))return e.arguments&&e.arguments.forEach((function(t){"Variable"===t.value.kind&&o.push({name:t.value.name.value})})),e.selectionSet&&U(e.selectionSet).forEach((function(t){a.push({name:t.name.value})})),null}},FragmentSpread:{enter:function(t){s[t.name.value]=!0}},Directive:{enter:function(e){if(M(t)(e))return null}}}));return u&&T(o,(function(t){return!n[t.name]})).length&&(u=function(t,e){var n=function(t){return function(e){return t.some((function(t){return e.value&&"Variable"===e.value.kind&&e.value.name&&(t.name===e.value.name.value||t.test&&t.test(e))}))}}(t);return D(Object(r.b)(e,{OperationDefinition:{enter:function(e){return Object(i.a)(Object(i.a)({},e),{variableDefinitions:e.variableDefinitions.filter((function(e){return!t.some((function(t){return t.name===e.variable.name.value}))}))})}},Field:{enter:function(e){if(t.some((function(t){return t.remove}))){var r=0;if(e.arguments.forEach((function(t){n(t)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(t){if(n(t))return null}}}))}(o,u)),u&&T(a,(function(t){return!s[t.name]})).length&&(u=function(t,e){function n(e){if(t.some((function(t){return t.name===e.name.value})))return null}return D(Object(r.b)(e,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(a,u)),u}function L(t){return Object(r.b)(k(t),{SelectionSet:{enter:function(t,e,n){if(!n||"OperationDefinition"!==n.kind){var r=t.selections;if(r)if(!r.some((function(t){return h(t)&&("__typename"===t.name.value||0===t.name.value.lastIndexOf("__",0))}))){var o=n;if(!(h(o)&&o.directives&&o.directives.some((function(t){return"export"===t.name.value}))))return Object(i.a)(Object(i.a)({},t),{selections:Object(i.b)(r,[C])})}}}}})}var V={test:function(t){var e="connection"===t.name.value;return e&&(!t.arguments||t.arguments.some((function(t){return"key"===t.name.value}))),e}};function B(t){return F([V],k(t))}function U(t){var e=[];return t.selections.forEach((function(t){(h(t)||v(t))&&t.selectionSet?U(t.selectionSet).forEach((function(t){return e.push(t)})):"FragmentSpread"===t.kind&&e.push(t)})),e}function z(t){return"query"===R(t).operation?t:Object(r.b)(t,{OperationDefinition:{enter:function(t){return Object(i.a)(Object(i.a)({},t),{operation:"query"})}}})}function K(t){k(t);var e=F([{test:function(t){return"client"===t.name.value},remove:!0}],t);return e&&(e=Object(r.b)(e,{FragmentDefinition:{enter:function(t){if(t.selectionSet&&t.selectionSet.selections.every((function(t){return h(t)&&"__typename"===t.name.value})))return null}}})),e}var W="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),G=Object.prototype.toString;function J(t){return H(t,new Map)}function H(t,e){switch(G.call(t)){case"[object Array]":if(e.has(t))return e.get(t);var n=t.slice(0);return e.set(t,n),n.forEach((function(t,r){n[r]=H(t,e)})),n;case"[object Object]":if(e.has(t))return e.get(t);var r=Object.create(Object.getPrototypeOf(t));return e.set(t,r),Object.keys(t).forEach((function(n){r[n]=H(t[n],e)})),r;default:return t}}function $(e){return(void 0!==t?"production":"development")===e}function X(){return!0===$("production")}function Y(){return!0===$("test")}function Z(t){try{return t()}catch(t){console.error&&console.error(t)}}function tt(t){return t.errors&&t.errors.length}function et(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(e){null===t[e]||"object"!=typeof t[e]&&"function"!=typeof t[e]||Object.isFrozen(t[e])||et(t[e])})),t}function nt(t){if((!0===$("development")||Y())&&!("function"==typeof Symbol&&"string"==typeof Symbol("")))return et(t);return t}var rt=Object.prototype.hasOwnProperty;function ot(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return it(t)}function it(t){var e=t[0]||{},n=t.length;if(n>1){var r=[];e=ut(e,r);for(var o=1;o<n;++o)e=at(e,t[o],r)}return e}function st(t){return null!==t&&"object"==typeof t}function at(t,e,n){return st(e)&&st(t)?(Object.isExtensible&&!Object.isExtensible(t)&&(t=ut(t,n)),Object.keys(e).forEach((function(r){var o=e[r];if(rt.call(t,r)){var i=t[r];o!==i&&(t[r]=at(ut(i,n),o,n))}else t[r]=o})),t):e}function ut(t,e){return null!==t&&"object"==typeof t&&e.indexOf(t)<0&&(t=Array.isArray(t)?t.slice(0):Object(i.a)({__proto__:Object.getPrototypeOf(t)},t),e.push(t)),t}Object.create({})}).call(this,n(172))},317:function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(1390),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},379:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},380:function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},405:function(t,e,n){"use strict";n.d(e,"a",(function(){return q})),n.d(e,"b",(function(){return w})),n.d(e,"c",(function(){return u}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var u,c=n(28),l=n(184),p=n(186),f=n(259),d=n(1749),h=n(19),v=n(131);function y(t){return t<7}!function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"}(u||(u={}));var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype[d.a]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(p.a);function g(t){return Array.isArray(t)&&t.length>0}var b,w=function(t){function e(n){var r,o,i=n.graphQLErrors,s=n.networkError,a=n.errorMessage,u=n.extraInfo,c=t.call(this,a)||this;return c.graphQLErrors=i||[],c.networkError=s||null,c.message=a||(o="",g((r=c).graphQLErrors)&&r.graphQLErrors.forEach((function(t){var e=t?t.message:"Error message not found.";o+="GraphQL error: "+e+"\n"})),r.networkError&&(o+="Network error: "+r.networkError.message+"\n"),o=o.replace(/\n$/,"")),c.extraInfo=u,c.__proto__=e.prototype,c}return o(e,t),e}(Error);!function(t){t[t.normal=1]="normal",t[t.refetch=2]="refetch",t[t.poll=3]="poll"}(b||(b={}));var S=function(t){function e(e){var n=e.queryManager,r=e.options,o=e.shouldSubscribe,i=void 0===o||o,s=t.call(this,(function(t){return s.onSubscribe(t)}))||this;s.observers=new Set,s.subscriptions=new Set,s.isTornDown=!1,s.options=r,s.variables=r.variables||{},s.queryId=n.generateQueryId(),s.shouldSubscribe=i;var a=Object(c.m)(r.query);return s.queryName=a&&a.name&&a.name.value,s.queryManager=n,s}return o(e,t),e.prototype.result=function(){var t=this;return new Promise((function(e,n){var r={next:function(n){e(n),t.observers.delete(r),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout((function(){o.unsubscribe()}),0)},error:n},o=t.subscribe(r)}))},e.prototype.currentResult=function(){var t=this.getCurrentResult();return void 0===t.data&&(t.data={}),t},e.prototype.getCurrentResult=function(){if(this.isTornDown){var t=this.lastResult;return{data:!this.lastError&&t&&t.data||void 0,error:this.lastError,loading:!1,networkStatus:u.error}}var e,n,r,o=this.queryManager.getCurrentQueryResult(this),s=o.data,a=o.partial,c=this.queryManager.queryStore.get(this.queryId),l=this.options.fetchPolicy,p="network-only"===l||"no-cache"===l;if(c){var f=c.networkStatus;if(n=c,void 0===(r=this.options.errorPolicy)&&(r="none"),n&&(n.networkError||"none"===r&&g(n.graphQLErrors)))return{data:void 0,loading:!1,networkStatus:f,error:new w({graphQLErrors:c.graphQLErrors,networkError:c.networkError})};c.variables&&(this.options.variables=i(i({},this.options.variables),c.variables),this.variables=this.options.variables),e={data:s,loading:y(f),networkStatus:f},c.graphQLErrors&&"all"===this.options.errorPolicy&&(e.errors=c.graphQLErrors)}else{var d=p||a&&"cache-only"!==l;e={data:s,loading:d,networkStatus:d?u.loading:u.ready}}return a||this.updateLastResult(i(i({},e),{stale:!1})),i(i({},e),{partial:a})},e.prototype.isDifferentFromLastResult=function(t){var e=this.lastResultSnapshot;return!(e&&t&&e.networkStatus===t.networkStatus&&e.stale===t.stale&&Object(l.a)(e.data,t.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var t=this.queryManager.queryStore.get(this.queryId);t&&(t.networkError=null,t.graphQLErrors=[])},e.prototype.refetch=function(t){var e=this.options.fetchPolicy;return"cache-only"===e?Promise.reject(new h.a(1)):("no-cache"!==e&&"cache-and-network"!==e&&(e="network-only"),Object(l.a)(this.variables,t)||(this.variables=i(i({},this.variables),t)),Object(l.a)(this.options.variables,this.variables)||(this.options.variables=i(i({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,i(i({},this.options),{fetchPolicy:e}),b.refetch))},e.prototype.fetchMore=function(t){var e=this;Object(h.b)(t.updateQuery,2);var n=i(i({},t.query?t:i(i(i({},this.options),t),{variables:i(i({},this.variables),t.variables)})),{fetchPolicy:"network-only"}),r=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(r,n,b.normal,this.queryId).then((function(o){return e.updateQuery((function(e){return t.updateQuery(e,{fetchMoreResult:o.data,variables:n.variables})})),e.queryManager.stopQuery(r),o}),(function(t){throw e.queryManager.stopQuery(r),t}))},e.prototype.subscribeToMore=function(t){var e=this,n=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables}).subscribe({next:function(n){var r=t.updateQuery;r&&e.updateQuery((function(t,e){var o=e.variables;return r(t,{subscriptionData:n,variables:o})}))},error:function(e){t.onError&&t.onError(e)}});return this.subscriptions.add(n),function(){e.subscriptions.delete(n)&&n.unsubscribe()}},e.prototype.setOptions=function(t){var e=this.options.fetchPolicy;this.options=i(i({},this.options),t),t.pollInterval?this.startPolling(t.pollInterval):0===t.pollInterval&&this.stopPolling();var n=t.fetchPolicy;return this.setVariables(this.options.variables,e!==n&&("cache-only"===e||"standby"===e||"network-only"===n),t.fetchResults)},e.prototype.setVariables=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!0),this.isTornDown=!1,t=t||this.variables,!e&&Object(l.a)(t,this.variables)?this.observers.size&&n?this.result():Promise.resolve():(this.variables=this.options.variables=t,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(t){var e=this.queryManager,n=e.getQueryWithPreviousResult(this.queryId),r=n.previousResult,o=n.variables,i=n.document,s=Object(c.I)((function(){return t(r,{variables:o})}));s&&(e.dataStore.markUpdateQueryResult(i,o,s),e.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(t){I(this),this.options.pollInterval=t,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(t){var e=this.lastResult;return this.lastResult=t,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?t:Object(c.f)(t),e},e.prototype.onSubscribe=function(t){var e=this;try{var n=t._subscription._observer;n&&!n.error&&(n.error=_)}catch(t){}var r=!this.observers.size;return this.observers.add(t),t.next&&this.lastResult&&t.next(this.lastResult),t.error&&this.lastError&&t.error(this.lastError),r&&this.setUpQuery(),function(){e.observers.delete(t)&&!e.observers.size&&e.tearDownQuery()}},e.prototype.setUpQuery=function(){var t=this,e=this.queryManager,n=this.queryId;this.shouldSubscribe&&e.addObservableQuery(n,this),this.options.pollInterval&&(I(this),e.startPollingQuery(this.options,n));var r=function(e){t.updateLastResult(i(i({},t.lastResult),{errors:e.graphQLErrors,networkStatus:u.error,loading:!1})),O(t.observers,"error",t.lastError=e)};e.observeQuery(n,this.options,{next:function(n){if(t.lastError||t.isDifferentFromLastResult(n)){var r=t.updateLastResult(n),o=t.options,i=o.query,s=o.variables,a=o.fetchPolicy;e.transform(i).hasClientExports?e.getLocalState().addExportedVariables(i,s).then((function(o){var s=t.variables;t.variables=t.options.variables=o,!n.loading&&r&&"cache-only"!==a&&e.transform(i).serverQuery&&!Object(l.a)(s,o)?t.refetch():O(t.observers,"next",n)})):O(t.observers,"next",n)}},error:r}).catch(r)},e.prototype.tearDownQuery=function(){var t=this.queryManager;this.isTornDown=!0,t.stopPollingQuery(this.queryId),this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.subscriptions.clear(),t.removeObservableQuery(this.queryId),t.stopQuery(this.queryId),this.observers.clear()},e}(m);function _(t){}function O(t,e,n){var r=[];t.forEach((function(t){return t[e]&&r.push(t)})),r.forEach((function(t){return t[e](n)}))}function I(t){var e=t.options.fetchPolicy;Object(h.b)("cache-first"!==e&&"cache-only"!==e,3)}var E=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(t){return this.store[t]},t.prototype.initMutation=function(t,e,n){this.store[t]={mutation:e,variables:n||{},loading:!0,error:null}},t.prototype.markMutationError=function(t,e){var n=this.store[t];n&&(n.loading=!1,n.error=e)},t.prototype.markMutationResult=function(t){var e=this.store[t];e&&(e.loading=!1,e.error=null)},t.prototype.reset=function(){this.store={}},t}(),k=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(t){return this.store[t]},t.prototype.initQuery=function(t){var e=this.store[t.queryId];Object(h.b)(!e||e.document===t.document||Object(l.a)(e.document,t.document),19);var n,r=!1,o=null;t.storePreviousVariables&&e&&e.networkStatus!==u.loading&&(Object(l.a)(e.variables,t.variables)||(r=!0,o=e.variables)),n=r?u.setVariables:t.isPoll?u.poll:t.isRefetch?u.refetch:u.loading;var i=[];e&&e.graphQLErrors&&(i=e.graphQLErrors),this.store[t.queryId]={document:t.document,variables:t.variables,previousVariables:o,networkError:null,graphQLErrors:i,networkStatus:n,metadata:t.metadata},"string"==typeof t.fetchMoreForQueryId&&this.store[t.fetchMoreForQueryId]&&(this.store[t.fetchMoreForQueryId].networkStatus=u.fetchMore)},t.prototype.markQueryResult=function(t,e,n){this.store&&this.store[t]&&(this.store[t].networkError=null,this.store[t].graphQLErrors=g(e.errors)?e.errors:[],this.store[t].previousVariables=null,this.store[t].networkStatus=u.ready,"string"==typeof n&&this.store[n]&&(this.store[n].networkStatus=u.ready))},t.prototype.markQueryError=function(t,e,n){this.store&&this.store[t]&&(this.store[t].networkError=e,this.store[t].networkStatus=u.error,"string"==typeof n&&this.markQueryResultClient(n,!0))},t.prototype.markQueryResultClient=function(t,e){var n=this.store&&this.store[t];n&&(n.networkError=null,n.previousVariables=null,e&&(n.networkStatus=u.ready))},t.prototype.stopQuery=function(t){delete this.store[t]},t.prototype.reset=function(t){var e=this;Object.keys(this.store).forEach((function(n){t.indexOf(n)<0?e.stopQuery(n):e.store[n].networkStatus=u.loading}))},t}();var j=function(){function t(t){var e=t.cache,n=t.client,r=t.resolvers,o=t.fragmentMatcher;this.cache=e,n&&(this.client=n),r&&this.addResolvers(r),o&&this.setFragmentMatcher(o)}return t.prototype.addResolvers=function(t){var e=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach((function(t){e.resolvers=Object(c.A)(e.resolvers,t)})):this.resolvers=Object(c.A)(this.resolvers,t)},t.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(t){var e=t.document,n=t.remoteResult,r=t.context,o=t.variables,u=t.onlyRunForcedResolvers,c=void 0!==u&&u;return s(this,void 0,void 0,(function(){return a(this,(function(t){return e?[2,this.resolveDocument(e,n.data,r,o,this.fragmentMatcher,c).then((function(t){return i(i({},n),{data:t.result})}))]:[2,n]}))}))},t.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(t){return Object(c.s)(["client"],t)&&this.resolvers?t:null},t.prototype.serverQuery=function(t){return this.resolvers?Object(c.C)(t):t},t.prototype.prepareContext=function(t){void 0===t&&(t={});var e=this.cache;return i(i({},t),{cache:e,getCacheKey:function(t){if(e.config)return e.config.dataIdFromObject(t);Object(h.b)(!1,6)}})},t.prototype.addExportedVariables=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),s(this,void 0,void 0,(function(){return a(this,(function(r){return t?[2,this.resolveDocument(t,this.buildRootValueFromCache(t,e)||{},this.prepareContext(n),e).then((function(t){return i(i({},e),t.exportedVariables)}))]:[2,i({},e)]}))}))},t.prototype.shouldForceResolvers=function(t){var e=!1;return Object(v.b)(t,{Directive:{enter:function(t){if("client"===t.name.value&&t.arguments&&(e=t.arguments.some((function(t){return"always"===t.name.value&&"BooleanValue"===t.value.kind&&!0===t.value.value}))))return v.a}}}),e},t.prototype.buildRootValueFromCache=function(t,e){return this.cache.diff({query:Object(c.d)(t),variables:e,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(t,e,n,r,o,u){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o=function(){return!0}),void 0===u&&(u=!1),s(this,void 0,void 0,(function(){var s,l,p,f,d,h,v,y,m;return a(this,(function(a){var g;return s=Object(c.l)(t),l=Object(c.j)(t),p=Object(c.g)(l),f=s.operation,d=f?(g=f).charAt(0).toUpperCase()+g.slice(1):"Query",v=(h=this).cache,y=h.client,m={fragmentMap:p,context:i(i({},n),{cache:v,client:y}),variables:r,fragmentMatcher:o,defaultOperationType:d,exportedVariables:{},onlyRunForcedResolvers:u},[2,this.resolveSelectionSet(s.selectionSet,e,m).then((function(t){return{result:t,exportedVariables:m.exportedVariables}}))]}))}))},t.prototype.resolveSelectionSet=function(t,e,n){return s(this,void 0,void 0,(function(){var r,o,i,u,l,p=this;return a(this,(function(f){return r=n.fragmentMap,o=n.context,i=n.variables,u=[e],l=function(t){return s(p,void 0,void 0,(function(){var s,l;return a(this,(function(a){return Object(c.F)(t,i)?Object(c.t)(t)?[2,this.resolveField(t,e,n).then((function(e){var n;void 0!==e&&u.push(((n={})[Object(c.E)(t)]=e,n))}))]:(Object(c.v)(t)?s=t:(s=r[t.name.value],Object(h.b)(s,7)),s&&s.typeCondition&&(l=s.typeCondition.name.value,n.fragmentMatcher(e,l,o))?[2,this.resolveSelectionSet(s.selectionSet,e,n).then((function(t){u.push(t)}))]:[2]):[2]}))}))},[2,Promise.all(t.selections.map(l)).then((function(){return Object(c.B)(u)}))]}))}))},t.prototype.resolveField=function(t,e,n){return s(this,void 0,void 0,(function(){var r,o,i,s,u,l,p,f,d,h=this;return a(this,(function(a){return r=n.variables,o=t.name.value,i=Object(c.E)(t),s=o!==i,u=e[i]||e[o],l=Promise.resolve(u),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(t)||(p=e.__typename||n.defaultOperationType,(f=this.resolvers&&this.resolvers[p])&&(d=f[s?o:i])&&(l=Promise.resolve(d(e,Object(c.b)(t,r),n.context,{field:t,fragmentMap:n.fragmentMap})))),[2,l.then((function(e){return void 0===e&&(e=u),t.directives&&t.directives.forEach((function(t){"export"===t.name.value&&t.arguments&&t.arguments.forEach((function(t){"as"===t.name.value&&"StringValue"===t.value.kind&&(n.exportedVariables[t.value.value]=e)}))})),t.selectionSet?null==e?e:Array.isArray(e)?h.resolveSubSelectedArray(t,e,n):t.selectionSet?h.resolveSelectionSet(t.selectionSet,e,n):void 0:e}))]}))}))},t.prototype.resolveSubSelectedArray=function(t,e,n){var r=this;return Promise.all(e.map((function(e){return null===e?null:Array.isArray(e)?r.resolveSubSelectedArray(t,e,n):t.selectionSet?r.resolveSelectionSet(t.selectionSet,e,n):void 0})))},t}();function x(t){var e=new Set,n=null;return new m((function(r){return e.add(r),n=n||t.subscribe({next:function(t){e.forEach((function(e){return e.next&&e.next(t)}))},error:function(t){e.forEach((function(e){return e.error&&e.error(t)}))},complete:function(){e.forEach((function(t){return t.complete&&t.complete()}))}}),function(){e.delete(r)&&!e.size&&n&&(n.unsubscribe(),n=null)}}))}var P=Object.prototype.hasOwnProperty,A=function(){function t(t){var e=t.link,n=t.queryDeduplication,r=void 0!==n&&n,o=t.store,i=t.onBroadcast,s=void 0===i?function(){}:i,a=t.ssrMode,u=void 0!==a&&a,l=t.clientAwareness,p=void 0===l?{}:l,f=t.localState,d=t.assumeImmutableResults;this.mutationStore=new E,this.queryStore=new k,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(c.e?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=e,this.queryDeduplication=r,this.dataStore=o,this.onBroadcast=s,this.clientAwareness=p,this.localState=f||new j({cache:o.getCache()}),this.ssrMode=u,this.assumeImmutableResults=!!d}return t.prototype.stop=function(){var t=this;this.queries.forEach((function(e,n){t.stopQueryNoBroadcast(n)})),this.fetchQueryRejectFns.forEach((function(t){t(new h.a(8))}))},t.prototype.mutate=function(t){var e=t.mutation,n=t.variables,r=t.optimisticResponse,o=t.updateQueries,u=t.refetchQueries,l=void 0===u?[]:u,p=t.awaitRefetchQueries,f=void 0!==p&&p,d=t.update,v=t.errorPolicy,y=void 0===v?"none":v,m=t.fetchPolicy,b=t.context,S=void 0===b?{}:b;return s(this,void 0,void 0,(function(){var t,s,u,p=this;return a(this,(function(a){switch(a.label){case 0:return Object(h.b)(e,9),Object(h.b)(!m||"no-cache"===m,10),t=this.generateQueryId(),e=this.transform(e).document,this.setQuery(t,(function(){return{document:e}})),n=this.getVariables(e,n),this.transform(e).hasClientExports?[4,this.localState.addExportedVariables(e,n,S)]:[3,2];case 1:n=a.sent(),a.label=2;case 2:return s=function(){var t={};return o&&p.queries.forEach((function(e,n){var r=e.observableQuery;if(r){var i=r.queryName;i&&P.call(o,i)&&(t[n]={updater:o[i],query:p.queryStore.get(n)})}})),t},this.mutationStore.initMutation(t,e,n),this.dataStore.markMutationInit({mutationId:t,document:e,variables:n,updateQueries:s(),update:d,optimisticResponse:r}),this.broadcastQueries(),u=this,[2,new Promise((function(o,a){var p,h;u.getObservableFromLink(e,i(i({},S),{optimisticResponse:r}),n,!1).subscribe({next:function(r){Object(c.q)(r)&&"none"===y?h=new w({graphQLErrors:r.errors}):(u.mutationStore.markMutationResult(t),"no-cache"!==m&&u.dataStore.markMutationResult({mutationId:t,result:r,document:e,variables:n,updateQueries:s(),update:d}),p=r)},error:function(e){u.mutationStore.markMutationError(t,e),u.dataStore.markMutationComplete({mutationId:t,optimisticResponse:r}),u.broadcastQueries(),u.setQuery(t,(function(){return{document:null}})),a(new w({networkError:e}))},complete:function(){if(h&&u.mutationStore.markMutationError(t,h),u.dataStore.markMutationComplete({mutationId:t,optimisticResponse:r}),u.broadcastQueries(),h)a(h);else{"function"==typeof l&&(l=l(p));var e=[];g(l)&&l.forEach((function(t){if("string"==typeof t)u.queries.forEach((function(n){var r=n.observableQuery;r&&r.queryName===t&&e.push(r.refetch())}));else{var n={query:t.query,variables:t.variables,fetchPolicy:"network-only"};t.context&&(n.context=t.context),e.push(u.query(n))}})),Promise.all(f?e:[]).then((function(){u.setQuery(t,(function(){return{document:null}})),"ignore"===y&&p&&Object(c.q)(p)&&delete p.errors,o(p)}))}}})}))]}}))}))},t.prototype.fetchQuery=function(t,e,n,r){return s(this,void 0,void 0,(function(){var o,s,u,l,p,f,d,h,v,y,m,g,S,_,O,I,E,k,j=this;return a(this,(function(a){switch(a.label){case 0:return o=e.metadata,s=void 0===o?null:o,u=e.fetchPolicy,l=void 0===u?"cache-first":u,p=e.context,f=void 0===p?{}:p,d=this.transform(e.query).document,h=this.getVariables(d,e.variables),this.transform(d).hasClientExports?[4,this.localState.addExportedVariables(d,h,f)]:[3,2];case 1:h=a.sent(),a.label=2;case 2:if(e=i(i({},e),{variables:h}),m=y="network-only"===l||"no-cache"===l,y||(g=this.dataStore.getCache().diff({query:d,variables:h,returnPartialData:!0,optimistic:!1}),S=g.complete,_=g.result,m=!S||"cache-and-network"===l,v=_),O=m&&"cache-only"!==l&&"standby"!==l,Object(c.s)(["live"],d)&&(O=!0),I=this.idCounter++,E="no-cache"!==l?this.updateQueryWatch(t,d,e):void 0,this.setQuery(t,(function(){return{document:d,lastRequestId:I,invalidated:!0,cancel:E}})),this.invalidate(r),this.queryStore.initQuery({queryId:t,document:d,storePreviousVariables:O,variables:h,isPoll:n===b.poll,isRefetch:n===b.refetch,metadata:s,fetchMoreForQueryId:r}),this.broadcastQueries(),O){if(k=this.fetchRequest({requestId:I,queryId:t,document:d,options:e,fetchMoreForQueryId:r}).catch((function(e){throw e.hasOwnProperty("graphQLErrors")?e:(I>=j.getQuery(t).lastRequestId&&(j.queryStore.markQueryError(t,e,r),j.invalidate(t),j.invalidate(r),j.broadcastQueries()),new w({networkError:e}))})),"cache-and-network"!==l)return[2,k];k.catch((function(){}))}return this.queryStore.markQueryResultClient(t,!O),this.invalidate(t),this.invalidate(r),this.transform(d).hasForcedResolvers?[2,this.localState.runResolvers({document:d,remoteResult:{data:v},context:f,variables:h,onlyRunForcedResolvers:!0}).then((function(n){return j.markQueryResult(t,n,e,r),j.broadcastQueries(),n}))]:(this.broadcastQueries(),[2,{data:v}])}}))}))},t.prototype.markQueryResult=function(t,e,n,r){var o=n.fetchPolicy,i=n.variables,s=n.errorPolicy;"no-cache"===o?this.setQuery(t,(function(){return{newData:{result:e.data,complete:!0}}})):this.dataStore.markQueryResult(e,this.getQuery(t).document,i,r,"ignore"===s||"all"===s)},t.prototype.queryListenerForObserver=function(t,e,n){var r=this;function o(t,e){if(n[t])try{n[t](e)}catch(t){}}return function(n,i){if(r.invalidate(t,!1),n){var s=r.getQuery(t),a=s.observableQuery,u=s.document,c=a?a.options.fetchPolicy:e.fetchPolicy;if("standby"!==c){var l=y(n.networkStatus),p=a&&a.getLastResult(),f=!(!p||p.networkStatus===n.networkStatus),d=e.returnPartialData||!i&&n.previousVariables||f&&e.notifyOnNetworkStatusChange||"cache-only"===c||"cache-and-network"===c;if(!l||d){var h=g(n.graphQLErrors),v=a&&a.options.errorPolicy||e.errorPolicy||"none";if("none"===v&&h||n.networkError)return o("error",new w({graphQLErrors:n.graphQLErrors,networkError:n.networkError}));try{var m=void 0,b=void 0;if(i)"no-cache"!==c&&"network-only"!==c&&r.setQuery(t,(function(){return{newData:null}})),m=i.result,b=!i.complete;else{var S=a&&a.getLastError(),_="none"!==v&&(S&&S.graphQLErrors)!==n.graphQLErrors;if(p&&p.data&&!_)m=p.data,b=!1;else{var O=r.dataStore.getCache().diff({query:u,variables:n.previousVariables||n.variables,returnPartialData:!0,optimistic:!0});m=O.result,b=!O.complete}}var I=b&&!(e.returnPartialData||"cache-only"===c),E={data:I?p&&p.data:m,loading:l,networkStatus:n.networkStatus,stale:I};"all"===v&&h&&(E.errors=n.graphQLErrors),o("next",E)}catch(t){o("error",new w({networkError:t}))}}}}}},t.prototype.transform=function(t){var e=this.transformCache;if(!e.has(t)){var n=this.dataStore.getCache(),r=n.transformDocument(t),o=Object(c.D)(n.transformForLink(r)),i=this.localState.clientQuery(r),s=this.localState.serverQuery(o),a={document:r,hasClientExports:Object(c.r)(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:i,serverQuery:s,defaultVars:Object(c.h)(Object(c.m)(r))},u=function(t){t&&!e.has(t)&&e.set(t,a)};u(t),u(r),u(i),u(s)}return e.get(t)},t.prototype.getVariables=function(t,e){return i(i({},this.transform(t).defaultVars),e)},t.prototype.watchQuery=function(t,e){void 0===e&&(e=!0),Object(h.b)("standby"!==t.fetchPolicy,11),t.variables=this.getVariables(t.query,t.variables),void 0===t.notifyOnNetworkStatusChange&&(t.notifyOnNetworkStatusChange=!1);var n=i({},t);return new S({queryManager:this,options:n,shouldSubscribe:e})},t.prototype.query=function(t){var e=this;return Object(h.b)(t.query,12),Object(h.b)("Document"===t.query.kind,13),Object(h.b)(!t.returnPartialData,14),Object(h.b)(!t.pollInterval,15),new Promise((function(n,r){var o=e.watchQuery(t,!1);e.fetchQueryRejectFns.set("query:"+o.queryId,r),o.result().then(n,r).then((function(){return e.fetchQueryRejectFns.delete("query:"+o.queryId)}))}))},t.prototype.generateQueryId=function(){return String(this.idCounter++)},t.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(t){this.stopPollingQuery(t),this.queryStore.stopQuery(t),this.invalidate(t)},t.prototype.addQueryListener=function(t,e){this.setQuery(t,(function(t){return t.listeners.add(e),{invalidated:!1}}))},t.prototype.updateQueryWatch=function(t,e,n){var r=this,o=this.getQuery(t).cancel;o&&o();return this.dataStore.getCache().watch({query:e,variables:n.variables,optimistic:!0,previousResult:function(){var e=null,n=r.getQuery(t).observableQuery;if(n){var o=n.getLastResult();o&&(e=o.data)}return e},callback:function(e){r.setQuery(t,(function(){return{invalidated:!0,newData:e}}))}})},t.prototype.addObservableQuery=function(t,e){this.setQuery(t,(function(){return{observableQuery:e}}))},t.prototype.removeObservableQuery=function(t){var e=this.getQuery(t).cancel;this.setQuery(t,(function(){return{observableQuery:null}})),e&&e()},t.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach((function(t){t(new h.a(16))}));var t=[];return this.queries.forEach((function(e,n){e.observableQuery&&t.push(n)})),this.queryStore.reset(t),this.mutationStore.reset(),this.dataStore.reset()},t.prototype.resetStore=function(){var t=this;return this.clearStore().then((function(){return t.reFetchObservableQueries()}))},t.prototype.reFetchObservableQueries=function(t){var e=this;void 0===t&&(t=!1);var n=[];return this.queries.forEach((function(r,o){var i=r.observableQuery;if(i){var s=i.options.fetchPolicy;i.resetLastResults(),"cache-only"===s||!t&&"standby"===s||n.push(i.refetch()),e.setQuery(o,(function(){return{newData:null}})),e.invalidate(o)}})),this.broadcastQueries(),Promise.all(n)},t.prototype.observeQuery=function(t,e,n){return this.addQueryListener(t,this.queryListenerForObserver(t,e,n)),this.fetchQuery(t,e)},t.prototype.startQuery=function(t,e,n){return this.addQueryListener(t,n),this.fetchQuery(t,e).catch((function(){})),t},t.prototype.startGraphQLSubscription=function(t){var e=this,n=t.query,r=t.fetchPolicy,o=t.variables;n=this.transform(n).document,o=this.getVariables(n,o);var i=function(t){return e.getObservableFromLink(n,{},t,!1).map((function(o){if(r&&"no-cache"===r||(e.dataStore.markSubscriptionResult(o,n,t),e.broadcastQueries()),Object(c.q)(o))throw new w({graphQLErrors:o.errors});return o}))};if(this.transform(n).hasClientExports){var s=this.localState.addExportedVariables(n,o).then(i);return new m((function(t){var e=null;return s.then((function(n){return e=n.subscribe(t)}),t.error),function(){return e&&e.unsubscribe()}}))}return i(o)},t.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},t.prototype.removeQuery=function(t){this.fetchQueryRejectFns.delete("query:"+t),this.fetchQueryRejectFns.delete("fetchRequest:"+t),this.getQuery(t).subscriptions.forEach((function(t){return t.unsubscribe()})),this.queries.delete(t)},t.prototype.getCurrentQueryResult=function(t,e){void 0===e&&(e=!0);var n=t.options,r=n.variables,o=n.query,i=n.fetchPolicy,s=n.returnPartialData,a=t.getLastResult(),u=this.getQuery(t.queryId).newData;if(u&&u.complete)return{data:u.result,partial:!1};if("no-cache"===i||"network-only"===i)return{data:void 0,partial:!1};var c=this.dataStore.getCache().diff({query:o,variables:r,previousResult:a?a.data:void 0,returnPartialData:!0,optimistic:e}),l=c.result,p=c.complete;return{data:p||s?l:void 0,partial:!p}},t.prototype.getQueryWithPreviousResult=function(t){var e;if("string"==typeof t){var n=this.getQuery(t).observableQuery;Object(h.b)(n,17),e=n}else e=t;var r=e.options,o=r.variables,i=r.query;return{previousResult:this.getCurrentQueryResult(e,!1).data,variables:o,document:i}},t.prototype.broadcastQueries=function(){var t=this;this.onBroadcast(),this.queries.forEach((function(e,n){e.invalidated&&e.listeners.forEach((function(r){r&&r(t.queryStore.get(n),e.newData)}))}))},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(t,e,n,r){var o,s=this;void 0===r&&(r=this.queryDeduplication);var a=this.transform(t).serverQuery;if(a){var u=this.inFlightLinkObservables,l=this.link,p={query:a,variables:n,operationName:Object(c.n)(a)||void 0,context:this.prepareContext(i(i({},e),{forceFetch:!r}))};if(e=p.context,r){var d=u.get(a)||new Map;u.set(a,d);var h=JSON.stringify(n);if(!(o=d.get(h))){d.set(h,o=x(Object(f.b)(l,p)));var v=function(){d.delete(h),d.size||u.delete(a),y.unsubscribe()},y=o.subscribe({next:v,error:v,complete:v})}}else o=x(Object(f.b)(l,p))}else o=m.of({data:{}}),e=this.prepareContext(e);var g=this.transform(t).clientQuery;return g&&(o=function(t,e){return new m((function(n){var r=n.next,o=n.error,i=n.complete,s=0,a=!1,u={next:function(t){++s,new Promise((function(n){n(e(t))})).then((function(t){--s,r&&r.call(n,t),a&&u.complete()}),(function(t){--s,o&&o.call(n,t)}))},error:function(t){o&&o.call(n,t)},complete:function(){a=!0,s||i&&i.call(n)}},c=t.subscribe(u);return function(){return c.unsubscribe()}}))}(o,(function(t){return s.localState.runResolvers({document:g,remoteResult:t,context:e,variables:n})}))),o},t.prototype.fetchRequest=function(t){var e,n,r=this,o=t.requestId,i=t.queryId,s=t.document,a=t.options,c=t.fetchMoreForQueryId,l=a.variables,p=a.errorPolicy,f=void 0===p?"none":p,d=a.fetchPolicy;return new Promise((function(t,p){var h=r.getObservableFromLink(s,a.context,l),v="fetchRequest:"+i;r.fetchQueryRejectFns.set(v,p);var y=function(){r.fetchQueryRejectFns.delete(v),r.setQuery(i,(function(t){t.subscriptions.delete(m)}))},m=h.map((function(t){if(o>=r.getQuery(i).lastRequestId&&(r.markQueryResult(i,t,a,c),r.queryStore.markQueryResult(i,t,c),r.invalidate(i),r.invalidate(c),r.broadcastQueries()),"none"===f&&g(t.errors))return p(new w({graphQLErrors:t.errors}));if("all"===f&&(n=t.errors),c||"no-cache"===d)e=t.data;else{var u=r.dataStore.getCache().diff({variables:l,query:s,optimistic:!1,returnPartialData:!0}),h=u.result;(u.complete||a.returnPartialData)&&(e=h)}})).subscribe({error:function(t){y(),p(t)},complete:function(){y(),t({data:e,errors:n,loading:!1,networkStatus:u.ready,stale:!1})}});r.setQuery(i,(function(t){t.subscriptions.add(m)}))}))},t.prototype.getQuery=function(t){return this.queries.get(t)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},t.prototype.setQuery=function(t,e){var n=this.getQuery(t),r=i(i({},n),e(n));this.queries.set(t,r)},t.prototype.invalidate=function(t,e){void 0===e&&(e=!0),t&&this.setQuery(t,(function(){return{invalidated:e}}))},t.prototype.prepareContext=function(t){void 0===t&&(t={});var e=this.localState.prepareContext(t);return i(i({},e),{clientAwareness:this.clientAwareness})},t.prototype.checkInFlight=function(t){var e=this.queryStore.get(t);return e&&e.networkStatus!==u.ready&&e.networkStatus!==u.error},t.prototype.startPollingQuery=function(t,e,n){var r=this,o=t.pollInterval;if(Object(h.b)(o,18),!this.ssrMode){var s=this.pollingInfoByQueryId.get(e);s||this.pollingInfoByQueryId.set(e,s={}),s.interval=o,s.options=i(i({},t),{fetchPolicy:"network-only"});var a=function(){var t=r.pollingInfoByQueryId.get(e);t&&(r.checkInFlight(e)?u():r.fetchQuery(e,t.options,b.poll).then(u,u))},u=function(){var t=r.pollingInfoByQueryId.get(e);t&&(clearTimeout(t.timeout),t.timeout=setTimeout(a,t.interval))};n&&this.addQueryListener(e,n),u()}return e},t.prototype.stopPollingQuery=function(t){this.pollingInfoByQueryId.delete(t)},t}(),R=function(){function t(t){this.cache=t}return t.prototype.getCache=function(){return this.cache},t.prototype.markQueryResult=function(t,e,n,r,o){void 0===o&&(o=!1);var i=!Object(c.q)(t);o&&Object(c.q)(t)&&t.data&&(i=!0),!r&&i&&this.cache.write({result:t.data,dataId:"ROOT_QUERY",query:e,variables:n})},t.prototype.markSubscriptionResult=function(t,e,n){Object(c.q)(t)||this.cache.write({result:t.data,dataId:"ROOT_SUBSCRIPTION",query:e,variables:n})},t.prototype.markMutationInit=function(t){var e,n=this;t.optimisticResponse&&(e="function"==typeof t.optimisticResponse?t.optimisticResponse(t.variables):t.optimisticResponse,this.cache.recordOptimisticTransaction((function(r){var o=n.cache;n.cache=r;try{n.markMutationResult({mutationId:t.mutationId,result:{data:e},document:t.document,variables:t.variables,updateQueries:t.updateQueries,update:t.update})}finally{n.cache=o}}),t.mutationId))},t.prototype.markMutationResult=function(t){var e=this;if(!Object(c.q)(t.result)){var n=[{result:t.result.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}],r=t.updateQueries;r&&Object.keys(r).forEach((function(o){var i=r[o],s=i.query,a=i.updater,u=e.cache.diff({query:s.document,variables:s.variables,returnPartialData:!0,optimistic:!1}),l=u.result;if(u.complete){var p=Object(c.I)((function(){return a(l,{mutationResult:t.result,queryName:Object(c.n)(s.document)||void 0,queryVariables:s.variables})}));p&&n.push({result:p,dataId:"ROOT_QUERY",query:s.document,variables:s.variables})}})),this.cache.performTransaction((function(e){n.forEach((function(t){return e.write(t)}));var r=t.update;r&&Object(c.I)((function(){return r(e,t.result)}))}))}},t.prototype.markMutationComplete=function(t){var e=t.mutationId;t.optimisticResponse&&this.cache.removeOptimistic(e)},t.prototype.markUpdateQueryResult=function(t,e,n){this.cache.write({result:n,dataId:"ROOT_QUERY",variables:e,query:t})},t.prototype.reset=function(){return this.cache.reset()},t}(),q=function(){function t(t){var e=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=t.cache,r=t.ssrMode,o=void 0!==r&&r,i=t.ssrForceFetchDelay,s=void 0===i?0:i,a=t.connectToDevTools,u=t.queryDeduplication,c=void 0===u||u,l=t.defaultOptions,p=t.assumeImmutableResults,d=void 0!==p&&p,v=t.resolvers,y=t.typeDefs,m=t.fragmentMatcher,g=t.name,b=t.version,w=t.link;if(!w&&v&&(w=f.a.empty()),!w||!n)throw new h.a(4);this.link=w,this.cache=n,this.store=new R(n),this.disableNetworkFetches=o||s>0,this.queryDeduplication=c,this.defaultOptions=l||{},this.typeDefs=y,s&&setTimeout((function(){return e.disableNetworkFetches=!1}),s),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);void 0!==a&&(a&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),this.version="2.6.10",this.localState=new j({cache:n,client:this,resolvers:v,fragmentMatcher:m}),this.queryManager=new A({link:this.link,store:this.store,queryDeduplication:c,ssrMode:o,clientAwareness:{name:g,version:b},localState:this.localState,assumeImmutableResults:d,onBroadcast:function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager.queryStore.getStore(),mutations:e.queryManager.mutationStore.getStore()},dataWithOptimisticResults:e.cache.extract(!0)})}})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=i(i({},this.defaultOptions.watchQuery),t)),!this.disableNetworkFetches||"network-only"!==t.fetchPolicy&&"cache-and-network"!==t.fetchPolicy||(t=i(i({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},t.prototype.query=function(t){return this.defaultOptions.query&&(t=i(i({},this.defaultOptions.query),t)),Object(h.b)("cache-and-network"!==t.fetchPolicy,5),this.disableNetworkFetches&&"network-only"===t.fetchPolicy&&(t=i(i({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},t.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=i(i({},this.defaultOptions.mutate),t)),this.queryManager.mutate(t)},t.prototype.subscribe=function(t){return this.queryManager.startGraphQLSubscription(t)},t.prototype.readQuery=function(t,e){return void 0===e&&(e=!1),this.cache.readQuery(t,e)},t.prototype.readFragment=function(t,e){return void 0===e&&(e=!1),this.cache.readFragment(t,e)},t.prototype.writeQuery=function(t){var e=this.cache.writeQuery(t);return this.queryManager.broadcastQueries(),e},t.prototype.writeFragment=function(t){var e=this.cache.writeFragment(t);return this.queryManager.broadcastQueries(),e},t.prototype.writeData=function(t){var e=this.cache.writeData(t);return this.queryManager.broadcastQueries(),e},t.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},t.prototype.__requestRaw=function(t){return Object(f.b)(this.link,t)},t.prototype.initQueryManager=function(){return this.queryManager},t.prototype.resetStore=function(){var t=this;return Promise.resolve().then((function(){return t.queryManager.clearStore()})).then((function(){return Promise.all(t.resetStoreCallbacks.map((function(t){return t()})))})).then((function(){return t.reFetchObservableQueries()}))},t.prototype.clearStore=function(){var t=this;return Promise.resolve().then((function(){return t.queryManager.clearStore()})).then((function(){return Promise.all(t.clearStoreCallbacks.map((function(t){return t()})))}))},t.prototype.onResetStore=function(t){var e=this;return this.resetStoreCallbacks.push(t),function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter((function(e){return e!==t}))}},t.prototype.onClearStore=function(t){var e=this;return this.clearStoreCallbacks.push(t),function(){e.clearStoreCallbacks=e.clearStoreCallbacks.filter((function(e){return e!==t}))}},t.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},t.prototype.extract=function(t){return this.cache.extract(t)},t.prototype.restore=function(t){return this.cache.restore(t)},t.prototype.addResolvers=function(t){this.localState.addResolvers(t)},t.prototype.setResolvers=function(t){this.localState.setResolvers(t)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},t}()},455:function(t,e,n){var r=n(634),o=n(1380),i=n(978),s=Object.defineProperty;e.f=n(456)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},456:function(t,e,n){t.exports=!n(635)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},457:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},530:function(t,e,n){var r=n(379),o=n(380),i=n(1379),s=n(531),a=n(457),u=function(t,e,n){var c,l,p,f=t&u.F,d=t&u.G,h=t&u.S,v=t&u.P,y=t&u.B,m=t&u.W,g=d?o:o[e]||(o[e]={}),b=g.prototype,w=d?r:h?r[e]:(r[e]||{}).prototype;for(c in d&&(n=e),n)(l=!f&&w&&void 0!==w[c])&&a(g,c)||(p=l?w[c]:n[c],g[c]=d&&"function"!=typeof w[c]?n[c]:y&&l?i(p,r):m&&w[c]==p?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(p):v&&"function"==typeof p?i(Function.call,p):p,v&&((g.virtual||(g.virtual={}))[c]=p,t&u.R&&b&&!b[c]&&s(b,c,p)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},531:function(t,e,n){var r=n(455),o=n(744);t.exports=n(456)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},532:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},533:function(t,e,n){var r=n(1383),o=n(979);t.exports=function(t){return r(o(t))}},534:function(t,e,n){var r=n(982)("wks"),o=n(747),i=n(379).Symbol,s="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))}).store=r},634:function(t,e,n){var r=n(532);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},635:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},744:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},745:function(t,e,n){var r=n(1382),o=n(983);t.exports=Object.keys||function(t){return r(t,o)}},746:function(t,e){t.exports=!0},747:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},748:function(t,e){e.f={}.propertyIsEnumerable},813:function(t,e,n){"use strict";e.__esModule=!0;var r=s(n(2636)),o=s(n(2648)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof o.default&&"symbol"===i(r.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)}},816:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));n(131),n(19),n(138),n(570),n(184);function r(t){return t.definitions.filter((function(t){return"OperationDefinition"===t.kind&&t.name})).map((function(t){return t.name.value}))[0]||null}"function"==typeof WeakMap&&"object"==typeof navigator&&navigator.product,Object.prototype.toString;Object.prototype.hasOwnProperty;Object.create({})}).call(this,n(172))},873:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},917:function(t,e,n){"use strict";n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return g}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var s=n(28);function a(t){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:u(t)}]}}function u(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t||null==t)return null;if(Array.isArray(t))return u(t[0]);var e=[];return Object.keys(t).forEach((function(n){var r={kind:"Field",name:{kind:"Name",value:n},selectionSet:u(t[n])||void 0};e.push(r)})),{kind:"SelectionSet",selections:e}}var c,l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},p=function(){function t(){}return t.prototype.transformDocument=function(t){return t},t.prototype.transformForLink=function(t){return t},t.prototype.readQuery=function(t,e){return void 0===e&&(e=!1),this.read({query:t.query,variables:t.variables,optimistic:e})},t.prototype.readFragment=function(t,e){return void 0===e&&(e=!1),this.read({query:Object(s.k)(t.fragment,t.fragmentName),variables:t.variables,rootId:t.id,optimistic:e})},t.prototype.writeQuery=function(t){this.write({dataId:"ROOT_QUERY",result:t.data,query:t.query,variables:t.variables})},t.prototype.writeFragment=function(t){this.write({dataId:t.id,result:t.data,variables:t.variables,query:Object(s.k)(t.fragment,t.fragmentName)})},t.prototype.writeData=function(t){var e,n,r=t.id,o=t.data;if(void 0!==r){var i=null;try{i=this.read({rootId:r,optimistic:!1,query:l})}catch(t){}var s=i&&i.__typename||"__ClientData",c=Object.assign({__typename:s},o);this.writeFragment({id:r,fragment:(e=c,n=s,{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:n||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:u(e)}]}),data:c})}else this.writeQuery({query:a(o),data:o})},t}();c||(c={});var f=n(184),d=n(433),h=n(19),v=!1;function y(){var t=!v;return Object(s.y)()||(v=!0),t}var m=function(){function t(){}return t.prototype.ensureReady=function(){return Promise.resolve()},t.prototype.canBypassInit=function(){return!0},t.prototype.match=function(t,e,n){var r=n.store.get(t.id),o="ROOT_QUERY"===t.id;if(!r)return o;var i=r.__typename,s=void 0===i?o&&"Query":i;return s&&s===e||(y(),"heuristic")},t}(),g=function(){function t(t){t&&t.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(t.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return t.prototype.match=function(t,e,n){Object(h.b)(this.isReady,1);var r=n.store.get(t.id),o="ROOT_QUERY"===t.id;if(!r)return o;var i=r.__typename,s=void 0===i?o&&"Query":i;if(Object(h.b)(s,2),s===e)return!0;var a=this.possibleTypesMap[e];return!!(s&&a&&a.indexOf(s)>-1)},t.prototype.parseIntrospectionResult=function(t){var e={};return t.__schema.types.forEach((function(t){"UNION"!==t.kind&&"INTERFACE"!==t.kind||(e[t.name]=t.possibleTypes.map((function(t){return t.name})))})),e},t}(),b=Object.prototype.hasOwnProperty,w=function(){function t(t){var e=this;void 0===t&&(t=Object.create(null)),this.data=t,this.depend=Object(d.b)((function(t){return e.data[t]}),{disposable:!0,makeCacheKey:function(t){return t}})}return t.prototype.toObject=function(){return this.data},t.prototype.get=function(t){return this.depend(t),this.data[t]},t.prototype.set=function(t,e){e!==this.data[t]&&(this.data[t]=e,this.depend.dirty(t))},t.prototype.delete=function(t){b.call(this.data,t)&&(delete this.data[t],this.depend.dirty(t))},t.prototype.clear=function(){this.replace(null)},t.prototype.replace=function(t){var e=this;t?(Object.keys(t).forEach((function(n){e.set(n,t[n])})),Object.keys(this.data).forEach((function(n){b.call(t,n)||e.delete(n)}))):Object.keys(this.data).forEach((function(t){e.delete(t)}))},t}();function S(t){return new w(t)}var _=function(){function t(t){var e=this,n=void 0===t?{}:t,r=n.cacheKeyRoot,o=void 0===r?new d.a(s.e):r,i=n.freezeResults,a=void 0!==i&&i,u=this,c=u.executeStoreQuery,l=u.executeSelectionSet,p=u.executeSubSelectedArray;this.freezeResults=a,this.executeStoreQuery=Object(d.b)((function(t){return c.call(e,t)}),{makeCacheKey:function(t){var e=t.query,n=t.rootValue,r=t.contextValue,i=t.variableValues,s=t.fragmentMatcher;if(r.store instanceof w)return o.lookup(r.store,e,s,JSON.stringify(i),n.id)}}),this.executeSelectionSet=Object(d.b)((function(t){return l.call(e,t)}),{makeCacheKey:function(t){var e=t.selectionSet,n=t.rootValue,r=t.execContext;if(r.contextValue.store instanceof w)return o.lookup(r.contextValue.store,e,r.fragmentMatcher,JSON.stringify(r.variableValues),n.id)}}),this.executeSubSelectedArray=Object(d.b)((function(t){return p.call(e,t)}),{makeCacheKey:function(t){var e=t.field,n=t.array,r=t.execContext;if(r.contextValue.store instanceof w)return o.lookup(r.contextValue.store,e,n,JSON.stringify(r.variableValues))}})}return t.prototype.readQueryFromStore=function(t){return this.diffQueryAgainstStore(i(i({},t),{returnPartialData:!1})).result},t.prototype.diffQueryAgainstStore=function(t){var e=t.store,n=t.query,r=t.variables,o=t.previousResult,i=t.returnPartialData,a=void 0===i||i,u=t.rootId,c=void 0===u?"ROOT_QUERY":u,l=t.fragmentMatcherFunction,p=t.config,d=Object(s.o)(n);r=Object(s.c)({},Object(s.h)(d),r);var v={store:e,dataIdFromObject:p&&p.dataIdFromObject,cacheRedirects:p&&p.cacheRedirects||{}},y=this.executeStoreQuery({query:n,rootValue:{type:"id",id:c,generated:!0,typename:"Query"},contextValue:v,variableValues:r,fragmentMatcher:l}),m=y.missing&&y.missing.length>0;return m&&!a&&y.missing.forEach((function(t){if(!t.tolerable)throw new h.a(8)})),o&&Object(f.a)(o,y.result)&&(y.result=o),{result:y.result,complete:!m}},t.prototype.executeStoreQuery=function(t){var e=t.query,n=t.rootValue,r=t.contextValue,o=t.variableValues,i=t.fragmentMatcher,a=void 0===i?I:i,u=Object(s.l)(e),c=Object(s.j)(e),l={query:e,fragmentMap:Object(s.g)(c),contextValue:r,variableValues:o,fragmentMatcher:a};return this.executeSelectionSet({selectionSet:u.selectionSet,rootValue:n,execContext:l})},t.prototype.executeSelectionSet=function(t){var e=this,n=t.selectionSet,r=t.rootValue,o=t.execContext,a=o.fragmentMap,u=o.contextValue,c=o.variableValues,l={result:null},p=[],f=u.store.get(r.id),d=f&&f.__typename||"ROOT_QUERY"===r.id&&"Query"||void 0;function v(t){var e;return t.missing&&(l.missing=l.missing||[],(e=l.missing).push.apply(e,t.missing)),t.result}return n.selections.forEach((function(t){var n;if(Object(s.F)(t,c))if(Object(s.t)(t)){var l=v(e.executeField(f,d,t,o));void 0!==l&&p.push(((n={})[Object(s.E)(t)]=l,n))}else{var y=void 0;if(Object(s.v)(t))y=t;else if(!(y=a[t.name.value]))throw new h.a(9);var m=y.typeCondition&&y.typeCondition.name.value,g=!m||o.fragmentMatcher(r,m,u);if(g){var b=e.executeSelectionSet({selectionSet:y.selectionSet,rootValue:r,execContext:o});"heuristic"===g&&b.missing&&(b=i(i({},b),{missing:b.missing.map((function(t){return i(i({},t),{tolerable:!0})}))})),p.push(v(b))}}})),l.result=Object(s.B)(p),this.freezeResults,l},t.prototype.executeField=function(t,e,n,r){var o=r.variableValues,i=r.contextValue,a=function(t,e,n,r,o,i){i.resultKey;var a=i.directives,u=n;(r||a)&&(u=Object(s.p)(u,r,a));var c=void 0;if(t&&void 0===(c=t[u])&&o.cacheRedirects&&"string"==typeof e){var l=o.cacheRedirects[e];if(l){var p=l[n];p&&(c=p(t,r,{getCacheKey:function(t){var e=o.dataIdFromObject(t);return e&&Object(s.H)({id:e,typename:t.__typename})}}))}}if(void 0===c)return{result:c,missing:[{object:t,fieldName:u,tolerable:!1}]};Object(s.w)(c)&&(c=c.json);return{result:c}}(t,e,n.name.value,Object(s.b)(n,o),i,{resultKey:Object(s.E)(n),directives:Object(s.i)(n,o)});return Array.isArray(a.result)?this.combineExecResults(a,this.executeSubSelectedArray({field:n,array:a.result,execContext:r})):n.selectionSet?null==a.result?a:this.combineExecResults(a,this.executeSelectionSet({selectionSet:n.selectionSet,rootValue:a.result,execContext:r})):(O(n,a.result),this.freezeResults,a)},t.prototype.combineExecResults=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.forEach((function(e){e.missing&&(t=t||[]).push.apply(t,e.missing)})),{result:e.pop().result,missing:t}},t.prototype.executeSubSelectedArray=function(t){var e,n=this,r=t.field,o=t.array,i=t.execContext;function s(t){return t.missing&&(e=e||[]).push.apply(e,t.missing),t.result}return o=o.map((function(t){return null===t?null:Array.isArray(t)?s(n.executeSubSelectedArray({field:r,array:t,execContext:i})):r.selectionSet?s(n.executeSelectionSet({selectionSet:r.selectionSet,rootValue:t,execContext:i})):(O(r,t),t)})),this.freezeResults,{result:o,missing:e}},t}();function O(t,e){if(!t.selectionSet&&Object(s.u)(e))throw new h.a(10)}function I(){return!0}var E=function(){function t(t){void 0===t&&(t=Object.create(null)),this.data=t}return t.prototype.toObject=function(){return this.data},t.prototype.get=function(t){return this.data[t]},t.prototype.set=function(t,e){this.data[t]=e},t.prototype.delete=function(t){this.data[t]=void 0},t.prototype.clear=function(){this.data=Object.create(null)},t.prototype.replace=function(t){this.data=t||Object.create(null)},t}();var k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="WriteError",e}return o(e,t),e}(Error);var j=function(){function t(){}return t.prototype.writeQueryToStore=function(t){var e=t.query,n=t.result,r=t.store,o=void 0===r?S():r,i=t.variables,s=t.dataIdFromObject,a=t.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:n,document:e,store:o,variables:i,dataIdFromObject:s,fragmentMatcherFunction:a})},t.prototype.writeResultToStore=function(t){var e=t.dataId,n=t.result,r=t.document,o=t.store,i=void 0===o?S():o,a=t.variables,u=t.dataIdFromObject,c=t.fragmentMatcherFunction,l=Object(s.m)(r);try{return this.writeSelectionSetToStore({result:n,dataId:e,selectionSet:l.selectionSet,context:{store:i,processedData:{},variables:Object(s.c)({},Object(s.h)(l),a),dataIdFromObject:u,fragmentMap:Object(s.g)(Object(s.j)(r)),fragmentMatcherFunction:c}})}catch(t){throw function(t,e){var n=new k("Error writing result to store for query:\n "+JSON.stringify(e));return n.message+="\n"+t.message,n.stack=t.stack,n}(t,r)}},t.prototype.writeSelectionSetToStore=function(t){var e=this,n=t.result,r=t.dataId,o=t.selectionSet,i=t.context,a=i.variables,u=i.store,c=i.fragmentMap;return o.selections.forEach((function(t){var o;if(Object(s.F)(t,a))if(Object(s.t)(t)){var u=Object(s.E)(t),l=n[u];if(void 0!==l)e.writeFieldToStore({dataId:r,value:l,field:t,context:i});else{var p=!1,f=!1;t.directives&&t.directives.length&&(p=t.directives.some((function(t){return t.name&&"defer"===t.name.value})),f=t.directives.some((function(t){return t.name&&"client"===t.name.value}))),!p&&!f&&i.fragmentMatcherFunction}}else{var d=void 0;Object(s.v)(t)?d=t:(d=(c||{})[t.name.value],Object(h.b)(d,3));var v=!0;if(i.fragmentMatcherFunction&&d.typeCondition){var y=r||"self",m=Object(s.H)({id:y,typename:void 0}),g={store:new E((o={},o[y]=n,o)),cacheRedirects:{}},b=i.fragmentMatcherFunction(m,d.typeCondition.name.value,g);Object(s.x)(),v=!!b}v&&e.writeSelectionSetToStore({result:n,selectionSet:d.selectionSet,dataId:r,context:i})}})),u},t.prototype.writeFieldToStore=function(t){var e,n,r,o=t.field,a=t.value,u=t.dataId,c=t.context,l=c.variables,p=c.dataIdFromObject,d=c.store,v=Object(s.G)(o,l);if(o.selectionSet&&null!==a)if(Array.isArray(a)){var y=u+"."+v;n=this.processArrayValue(a,y,o.selectionSet,c)}else{var m=u+"."+v,g=!0;if(x(m)||(m="$"+m),p){var b=p(a);Object(h.b)(!b||!x(b),4),(b||"number"==typeof b&&0===b)&&(m=b,g=!1)}A(m,o,c.processedData)||this.writeSelectionSetToStore({dataId:m,result:a,selectionSet:o.selectionSet,context:c});var w=a.__typename;n=Object(s.H)({id:m,typename:w},g);var S=(r=d.get(u))&&r[v];if(S!==n&&Object(s.u)(S)){var _=void 0!==S.typename,O=void 0!==w,I=_&&O&&S.typename!==w;Object(h.b)(!g||S.generated||I,5),Object(h.b)(!_||O,6),S.generated&&(I?g||d.delete(S.id):P(S.id,n.id,d))}}else n=null!=a&&"object"==typeof a?{type:"json",json:a}:a;(r=d.get(u))&&Object(f.a)(n,r[v])||d.set(u,i(i({},r),((e={})[v]=n,e)))},t.prototype.processArrayValue=function(t,e,n,r){var o=this;return t.map((function(t,i){if(null===t)return null;var a=e+"."+i;if(Array.isArray(t))return o.processArrayValue(t,a,n,r);var u=!0;if(r.dataIdFromObject){var c=r.dataIdFromObject(t);c&&(a=c,u=!1)}return A(a,n,r.processedData)||o.writeSelectionSetToStore({dataId:a,result:t,selectionSet:n,context:r}),Object(s.H)({id:a,typename:t.__typename},u)}))},t}();function x(t){return"$"===t[0]}function P(t,e,n){if(t===e)return!1;var r=n.get(t),o=n.get(e),a=!1;Object.keys(r).forEach((function(t){var e=r[t],i=o[t];Object(s.u)(e)&&x(e.id)&&Object(s.u)(i)&&!Object(f.a)(e,i)&&P(e.id,i.id,n)&&(a=!0)})),n.delete(t);var u=i(i({},r),o);return Object(f.a)(u,o)?a:(n.set(e,u),!0)}function A(t,e,n){if(!n)return!1;if(n[t]){if(n[t].indexOf(e)>=0)return!0;n[t].push(e)}else n[t]=[e];return!1}var R={fragmentMatcher:new m,dataIdFromObject:function(t){if(t.__typename){if(void 0!==t.id)return t.__typename+":"+t.id;if(void 0!==t._id)return t.__typename+":"+t._id}return null},addTypename:!0,resultCaching:!0,freezeResults:!1};var q=Object.prototype.hasOwnProperty,N=function(t){function e(e,n,r){var o=t.call(this,Object.create(null))||this;return o.optimisticId=e,o.parent=n,o.transaction=r,o}return o(e,t),e.prototype.toObject=function(){return i(i({},this.parent.toObject()),this.data)},e.prototype.get=function(t){return q.call(this.data,t)?this.data[t]:this.parent.get(t)},e}(E),T=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;n.watches=new Set,n.typenameDocumentCache=new Map,n.cacheKeyRoot=new d.a(s.e),n.silenceBroadcast=!1,n.config=i(i({},R),e),n.config.customResolvers&&(n.config.cacheRedirects=n.config.customResolvers),n.config.cacheResolvers&&(n.config.cacheRedirects=n.config.cacheResolvers),n.addTypename=!!n.config.addTypename,n.data=n.config.resultCaching?new w:new E,n.optimisticData=n.data,n.storeWriter=new j,n.storeReader=new _({cacheKeyRoot:n.cacheKeyRoot,freezeResults:e.freezeResults});var r=n,o=r.maybeBroadcastWatch;return n.maybeBroadcastWatch=Object(d.b)((function(t){return o.call(n,t)}),{makeCacheKey:function(t){if(!t.optimistic&&!t.previousResult)return r.data instanceof w?r.cacheKeyRoot.lookup(t.query,JSON.stringify(t.variables)):void 0}}),n}return o(e,t),e.prototype.restore=function(t){return t&&this.data.replace(t),this},e.prototype.extract=function(t){return void 0===t&&(t=!1),(t?this.optimisticData:this.data).toObject()},e.prototype.read=function(t){if("string"==typeof t.rootId&&void 0===this.data.get(t.rootId))return null;var e=this.config.fragmentMatcher,n=e&&e.match;return this.storeReader.readQueryFromStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,rootId:t.rootId,fragmentMatcherFunction:n,previousResult:t.previousResult,config:this.config})||null},e.prototype.write=function(t){var e=this.config.fragmentMatcher,n=e&&e.match;this.storeWriter.writeResultToStore({dataId:t.dataId,result:t.result,variables:t.variables,document:this.transformDocument(t.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:n}),this.broadcastWatches()},e.prototype.diff=function(t){var e=this.config.fragmentMatcher,n=e&&e.match;return this.storeReader.diffQueryAgainstStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,returnPartialData:t.returnPartialData,previousResult:t.previousResult,fragmentMatcherFunction:n,config:this.config})},e.prototype.watch=function(t){var e=this;return this.watches.add(t),function(){e.watches.delete(t)}},e.prototype.evict=function(t){throw new h.a(7)},e.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){for(var e=[],n=0,r=this.optimisticData;r instanceof N;)r.optimisticId===t?++n:e.push(r),r=r.parent;if(n>0){for(this.optimisticData=r;e.length>0;){var o=e.pop();this.performTransaction(o.transaction,o.optimisticId)}this.broadcastWatches()}},e.prototype.performTransaction=function(t,e){var n=this.data,r=this.silenceBroadcast;this.silenceBroadcast=!0,"string"==typeof e&&(this.data=this.optimisticData=new N(e,this.optimisticData,t));try{t(this)}finally{this.silenceBroadcast=r,this.data=n}this.broadcastWatches()},e.prototype.recordOptimisticTransaction=function(t,e){return this.performTransaction(t,e)},e.prototype.transformDocument=function(t){if(this.addTypename){var e=this.typenameDocumentCache.get(t);return e||(e=Object(s.a)(t),this.typenameDocumentCache.set(t,e),this.typenameDocumentCache.set(e,e)),e}return t},e.prototype.broadcastWatches=function(){var t=this;this.silenceBroadcast||this.watches.forEach((function(e){return t.maybeBroadcastWatch(e)}))},e.prototype.maybeBroadcastWatch=function(t){t.callback(this.diff({query:t.query,variables:t.variables,previousResult:t.previousResult&&t.previousResult(),optimistic:t.optimistic}))},e}(p)},978:function(t,e,n){var r=n(532);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},979:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},980:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},981:function(t,e,n){var r=n(982)("keys"),o=n(747);t.exports=function(t){return r[t]||(r[t]=o(t))}},982:function(t,e,n){var r=n(380),o=n(379),i="__core-js_shared__",s=o[i]||(o[i]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(746)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},983:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},984:function(t,e){e.f=Object.getOwnPropertySymbols},985:function(t,e){t.exports={}},986:function(t,e,n){var r=n(634),o=n(2641),i=n(983),s=n(981)("IE_PROTO"),a=function(){},u=function(){var t,e=n(1381)("iframe"),r=i.length;for(e.style.display="none",n(2642).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=u(),void 0===e?n:o(n,e)}},987:function(t,e,n){var r=n(455).f,o=n(457),i=n(534)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},988:function(t,e,n){e.f=n(534)},989:function(t,e,n){var r=n(379),o=n(380),i=n(746),s=n(988),a=n(455).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}}}]);
//# sourceMappingURL=https://ui.perform-preprod.usw2.staging-us.cultureamp-cdn.com/chunk-vendor~2a42e354-891fa6cd99a68e279050.bundle.js.map